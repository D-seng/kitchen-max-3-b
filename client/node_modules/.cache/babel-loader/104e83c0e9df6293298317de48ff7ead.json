{"remainingRequest":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/Home.vue","mtime":1638459620440},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js","mtime":1638459947335},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js","mtime":1638459949352}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVF1ZXJ5LCB1c2VSZXN1bHQsIG9uUmVzdWx0LCB1c2VNdXRhdGlvbiB9IGZyb20gJ0B2dWUvYXBvbGxvLWNvbXBvc2FibGUnOwppbXBvcnQgZ2V0S2l0Y2hlbnMgZnJvbSAnLi4vZ3JhcGhxbC9nZXRLaXRjaGVucy5xdWVyeS5ncWwnOwppbXBvcnQgZ2V0Q3VycmVudFVzZXJGcm9tVG9rZW4gZnJvbSAnLi4vZ3JhcGhxbC9nZXRDdXJyZW50VXNlckZyb21Ub2tlbi5xdWVyeS5ncWwnOwppbXBvcnQgZXh0ZXJuYWxTZXR1cCBmcm9tICcuLi9jb21wb3NhYmxlcy9leHRlcm5hbFNldHVwLmpzJzsKaW1wb3J0IGRlbGV0ZUtpdGNoZW5NdXRhdGlvbiBmcm9tICcuLi9ncmFwaHFsL2RlbGV0ZUtpdGNoZW4ubXV0YXRpb24uZ3FsJzsgLy8gaW1wb3J0IHsgb25CZWZvcmVSb3V0ZUxlYXZlLCBvbkJlZm9yZVJvdXRlVXBkYXRlIH0gZnJvbSAndnVlLXJvdXRlcicKCmltcG9ydCB7IGRlYnVnUG9ydCB9IGZyb20gJ3Byb2Nlc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHt9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfZXh0ZXJuYWxTZXR1cCA9IGV4dGVybmFsU2V0dXAoKSwKICAgICAgICBteV90aGluZyA9IF9leHRlcm5hbFNldHVwLm15X3RoaW5nLAogICAgICAgIGZldGNoU29tZXRoaW5nID0gX2V4dGVybmFsU2V0dXAuZmV0Y2hTb21ldGhpbmcsCiAgICAgICAgdmFsaWRhdGVVc2VyQnlUb2tlbiA9IF9leHRlcm5hbFNldHVwLnZhbGlkYXRlVXNlckJ5VG9rZW4sCiAgICAgICAgYWRkS2l0Y2hlbkd1YXJkID0gX2V4dGVybmFsU2V0dXAuYWRkS2l0Y2hlbkd1YXJkLAogICAgICAgIGxvYWRpbmcgPSBfZXh0ZXJuYWxTZXR1cC5sb2FkaW5nLAogICAgICAgIGVycm9yID0gX2V4dGVybmFsU2V0dXAuZXJyb3I7CgogICAgdmFyIG1lc3NhZ2UgPSByZWYoJ2hlbGxvIHRoZXJlJyk7CgogICAgdmFyIF91c2VRdWVyeSA9IHVzZVF1ZXJ5KGdldEtpdGNoZW5zKSwKICAgICAgICByZXN1bHQgPSBfdXNlUXVlcnkucmVzdWx0OyAvLyBkZWJ1Z2dlcgoKCiAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0KTsKICAgIHZhciBraXRjaGVucyA9IHVzZVJlc3VsdChyZXN1bHQsIG51bGwsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBkYXRhLmdldEtpdGNoZW5zOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygna2l0Y2hlbnMnKTsKICAgIGNvbnNvbGUubG9nKGtpdGNoZW5zKTsgLy8gdXBkYXRlIGlzIGFuIEFwb2xsbyBob29rIG1hZGUgYXZhaWxhYmxlIG9uIG11dGF0ZSBieSB1c2VNdXRhdGlvbj8KICAgIC8vKioqKldBVENIIFZJREVPIE9OIEFQT0xMTyBDTElFTlQgV0lUSCBOQVRBTElBIFRFUExVTklIQSBBR0FJTioqKioqKioKICAgIC8vIGZ1bmN0aW9uIGRlbGV0ZUFuZFVwZGF0ZUNhY2hlIChpZCkgewogICAgLy8gICBkZWxldGVLaXRjaGVuKHtpZH0sIHsKICAgIC8vICAgdXBkYXRlOiAoc3RvcmUsIHt9KSA9PiB7CiAgICAvLyAgICAgY29uc3QgZGF0YSA9IHN0b3JlLnJlYWRRdWVyeSh7cXVlcnk6IGdldEtpdGNoZW5zfSkKICAgIC8vICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpCiAgICAvLyAgICAgY29uc3QgdXBkYXRlZERhdGEgPSBkYXRhLmdldEtpdGNoZW5zLmZpbHRlcihrID0+IGsuX2lkICE9PSBpZCkKICAgIC8vICAgICBjb25zb2xlLmxvZygndXBkYXRlZERhdGEnLCB1cGRhdGVkRGF0YSkKICAgIC8vICAgICBzdG9yZS53cml0ZVF1ZXJ5KHtxdWVyeTogZ2V0S2l0Y2hlbnMsIGRhdGE6IHsgZ2V0S2l0Y2hlbnM6IHVwZGF0ZWREYXRhfX0pCiAgICAvLyAgIH0KICAgIC8vIH0pCiAgICAvLyB9CgogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAga2l0Y2hlbnM6IGtpdGNoZW5zIC8vIGRlbGV0ZUFuZFVwZGF0ZUNhY2hlCgogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/Home.vue"],"names":[],"mappings":"AAoBA;AACA,SAAS,GAAT,QAAoB,KAApB;AACA,SAAS,QAAT,EAAmB,SAAnB,EAA8B,QAA9B,EAAwC,WAAxC,QAA2D,wBAA3D;AACA,OAAO,WAAP,MAAwB,kCAAxB;AAEA,OAAO,uBAAP,MAAoC,8CAApC;AACA,OAAO,aAAP,MAA0B,iCAA1B;AACA,OAAO,qBAAP,MAAkC,uCAAlC,C,CACA;;AACA,SAAS,SAAT,QAA0B,SAA1B;AAGA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE,EAFC;AAKb,EAAA,KALa,mBAKJ;AAET,yBAA0F,aAAa,EAAvG;AAAA,QAAQ,QAAR,kBAAQ,QAAR;AAAA,QAAkB,cAAlB,kBAAkB,cAAlB;AAAA,QAAkC,mBAAlC,kBAAkC,mBAAlC;AAAA,QAAsD,eAAtD,kBAAsD,eAAtD;AAAA,QAAuE,OAAvE,kBAAuE,OAAvE;AAAA,QAAgF,KAAhF,kBAAgF,KAAhF;;AACF,QAAM,OAAM,GAAI,GAAG,CAAC,aAAD,CAAnB;;AACI,oBAAmB,QAAQ,CAAC,WAAD,CAA3B;AAAA,QAAQ,MAAR,aAAQ,MAAR,CAJO,CAKP;;;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,MAAtB;AACA,QAAM,QAAO,GAAI,SAAS,CAAC,MAAD,EAAS,IAAT,EAAe,UAAA,IAAG;AAAA,aAAK,IAAI,CAAC,WAAV;AAAA,KAAlB,CAA1B;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,UAAZ;AACA,IAAA,OAAO,CAAC,GAAR,CAAa,QAAb,EATO,CAWX;AAEA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAO;AACL,MAAA,OAAO,EAAP,OADK;AAEL,MAAA,QAAO,EAAP,QAFK,CAGL;;AAHK,KAAP;AAKF;AApCa,CAAf","sourcesContent":["<template>\n  <div class=\"home\">\n  <h1 class=\"text-red-500\">Home page</h1>\n\n  <p>{{message}}</p>\n  <p>{{kitchens}}</p>\n  <!-- <p>{{user}}</p> -->\n  <ul>\n  <li v-for=\"k in kitchens\" :key=\"k._id\">\n  <button @click=\"deleteAndUpdateCache(k._id)\">Delete this kitchen</button>\n  {{k.name}}<span class=\"ml-2\"> </span>{{k._id}}\n  </li>\n  <!-- <cld-image :publicId=\"xhv9plkl4sy5fvfrmlk2\"></cld-image> -->\n  </ul>\n\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { ref } from 'vue'\nimport { useQuery, useResult, onResult, useMutation } from '@vue/apollo-composable'\nimport getKitchens from '../graphql/getKitchens.query.gql'\n\nimport getCurrentUserFromToken from '../graphql/getCurrentUserFromToken.query.gql'\nimport externalSetup from '../composables/externalSetup.js'\nimport deleteKitchenMutation from '../graphql/deleteKitchen.mutation.gql'\n// import { onBeforeRouteLeave, onBeforeRouteUpdate } from 'vue-router'\nimport { debugPort } from 'process'\n\n\nexport default {\n  name: \"Home\",\n  components: {\n\n  },\n  setup () {\n\n  const { my_thing, fetchSomething, validateUserByToken,addKitchenGuard, loading, error } = externalSetup();\nconst message = ref('hello there')\n    const { result } = useQuery(getKitchens)\n    // debugger\n    console.log('result', result)\n    const kitchens = useResult(result, null, data => data.getKitchens)\n    console.log('kitchens')\n    console.log( kitchens)\n\n// update is an Apollo hook made available on mutate by useMutation?\n\n//****WATCH VIDEO ON APOLLO CLIENT WITH NATALIA TEPLUNIHA AGAIN*******\n    // function deleteAndUpdateCache (id) {\n    //   deleteKitchen({id}, {\n    //   update: (store, {}) => {\n    //     const data = store.readQuery({query: getKitchens})\n    //     console.log('data', data)\n    //     const updatedData = data.getKitchens.filter(k => k._id !== id)\n    //     console.log('updatedData', updatedData)\n    //     store.writeQuery({query: getKitchens, data: { getKitchens: updatedData}})\n    //   }\n    // })\n    // }\n\n    return {\n      message,\n      kitchens\n      // deleteAndUpdateCache\n    }\n  }\n};\n</script>\n<style>\n\n</style>"],"sourceRoot":""}]}