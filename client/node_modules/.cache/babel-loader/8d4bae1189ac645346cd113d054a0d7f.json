{"remainingRequest":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/components/Calendar2.vue?vue&type=template&id=46b5eab4","dependencies":[{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/components/Calendar2.vue","mtime":1641310718704},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js","mtime":1638459947335},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1638459950764},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js","mtime":1638459949352}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHggfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IFsib25DbGljayJdOwp2YXIgX2hvaXN0ZWRfMiA9IHsKICBrZXk6IDAKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAga2V5OiAwCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfQ2FyZERheSA9IF9yZXNvbHZlQ29tcG9uZW50KCJDYXJkRGF5Iik7CgogIHZhciBfY29tcG9uZW50X01lYWwgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTWVhbCIpOwoKICB2YXIgX2NvbXBvbmVudF9Nb2RhbFZpZXcgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTW9kYWxWaWV3Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDEiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5tVGV4dCkgKyAiICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC55ciksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmFwcG9pbnRtZW50cyksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLm1vZGFsVmlzaWJsZSksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuc3dpdGNoTW8oJ3ByZXYnKTsKICAgIH0pCiAgfSwgIlByZXYiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuc3dpdGNoTW8oJ25leHQnKTsKICAgIH0pCiAgfSwgIk5leHQiKSwgKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgY2xhc3M6ICJncmlkIGdyaWQtZmxvdy1yb3cgZ3JpZC1jb2xzLTcgZ3JpZC1yb3dzLTcgZ2FwLTQiLAogICAga2V5OiAkc2V0dXAuY2FsZW5kYXJLZXkKICB9LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuY2FsRGF5cywgZnVuY3Rpb24gKGNhbERheSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIiwKICAgICAga2V5OiBjYWxEYXkuZGF5CiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiAkc2V0dXAuYWRkQXBwdChjYWxEYXkuZGF5KTsKICAgICAgfQogICAgfSwgX3RvRGlzcGxheVN0cmluZyhjYWxEYXkuZGF5KSwgOQogICAgLyogVEVYVCwgUFJPUFMgKi8KICAgICwgX2hvaXN0ZWRfMSksICRzZXR1cC5hcHBvaW50bWVudHMgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDxkaXYgdi1mb3I9XCJhcHB0IGluIHJlc3VsdC5nZXRBcHBvaW50bWVudHMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5kYXRlID09PSBgJHt5cn0tJHttb30tJHtjYWxEYXkuZGF5fWApXCIgOmtleT1cImFwcHQuX2lkXCI+ICIpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5hcHBvaW50bWVudHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmRhdGUgPT09ICIiLmNvbmNhdCgkc2V0dXAueXIsICItIikuY29uY2F0KCRzZXR1cC5tbywgIi0iKS5jb25jYXQoY2FsRGF5LmRheSk7CiAgICB9KSwgZnVuY3Rpb24gKGFwcHQpIHsKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgIGtleTogYXBwdC5faWQKICAgICAgfSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0NhcmREYXksIHsKICAgICAgICBkYXlEZXRhaWxzOiBhcHB0CiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbImRheURldGFpbHMiXSldKTsKICAgIH0pLCAxMjgKICAgIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgICApKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSkpLCAkc2V0dXAubW9kYWxWaXNpYmxlID09PSB0cnVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X01vZGFsVmlldywgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X01lYWwsIHsKICAgICAgICBjbGFzczogInotNTAiCiAgICAgIH0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/components/Calendar2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;6DACA,mBAAA,CAAyB,IAAzB,EAAyB,IAAzB,EAAyB,gBAAA,CAAnB,MAAA,CAAA,KAAmB,CAAA,GAAZ,GAAY,GAAX,gBAAA,CAAE,MAAA,CAAA,EAAF,CAAd,EAAkB;AAAA;AAAlB,G,EACA,mBAAA,CAAuB,GAAvB,EAAuB,IAAvB,EAAuB,gBAAA,CAAlB,MAAA,CAAA,YAAkB,CAAvB,EAAiB;AAAA;AAAjB,G,EACI,mBAAA,CAAuB,GAAvB,EAAuB,IAAvB,EAAuB,gBAAA,CAAlB,MAAA,CAAA,YAAkB,CAAvB,EAAiB;AAAA;AAAjB,G,EACA,mBAAA,CAA+C,QAA/C,EAA+C;AAAtC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,MAAA,CAAA,QAAA,CAAQ,MAAR,CAAF;AAAA,KAAA;AAAiC,GAA/C,EAAkC,MAAlC,C,EACA,mBAAA,CAA+C,QAA/C,EAA+C;AAAtC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,MAAA,CAAA,QAAA,CAAQ,MAAR,CAAF;AAAA,KAAA;AAAiC,GAA/C,EAAkC,MAAlC,C,iBAEC,mBAAA,CAaG,KAbH,EAaG;AAbE,IAAA,KAAK,EAAC,kDAaR;AAZF,IAAA,GAAG,EAAE,MAAA,CAAA;AAYH,GAbH,E,oBAEC,mBAAA,CAUM,SAVN,EAUM,IAVN,EAUM,WAAA,CATW,MAAA,CAAA,OASX,EATkB,UAAjB,MAAiB,EAAX;yBADb,mBAAA,CAUM,KAVN,EAUM;AAVD,MAAA,KAAK,EAAC,+BAUL;AATqB,MAAA,GAAG,EAAE,MAAM,CAAC;AASjC,KAVN,E,CAEE,mBAAA,CAA6D,QAA7D,EAA6D;AAApD,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAG,MAAA,CAAA,OAAA,CAAQ,MAAM,CAAC,GAAf,CAAH;AAAA;AAA+C,KAA7D,E,iBAAwC,MAAM,CAAC,G,CAA/C,EAAkD;AAAA;AAAlD,MAAkD,UAAlD,C,EACa,MAAA,CAAA,Y,kBAAX,mBAAA,CAKI,KALJ,EAKI,UALJ,EAKI,CAJF,mBAAA,CAAA,8HAAA,CAIE,G,kBAHF,mBAAA,CAEM,SAFN,EAEM,IAFN,EAEM,WAAA,CAFc,MAAA,CAAA,YAAA,CAAa,MAAb,CAAoB,UAAA,IAAI;AAAA,aAAI,IAAI,CAAC,IAAL,eAAiB,MAAA,CAAA,EAAjB,cAAuB,MAAA,CAAA,EAAvB,cAA6B,MAAM,CAAC,GAApC,CAAJ;AAAA,KAAxB,CAEd,EAFiF,UAA3E,IAA2E,EAAvE;2BAAhB,mBAAA,CAEM,KAFN,EAEM;AAFuF,QAAA,GAAG,EAAE,IAAI,CAAC;AAEjG,OAFN,E,CACE,YAAA,CAA6B,kBAA7B,EAA6B;AAAnB,QAAA,UAAU,EAAE;AAAO,OAA7B,EAA0B,IAA1B,EAA0B;AAAA;AAA1B,QAA0B,CAAA,YAAA,CAA1B,C,CADF,C;KAEM,CAFN,E;;AAAA,KAGE,EALJ,C,sCAHJ,C;GAUM,CAVN,E;;AAAA,G,EAFD,C,GAeU,MAAA,CAAA,YAAA,KAAY,I,kBAAvB,mBAAA,CAIQ,KAJR,EAIQ,UAJR,EAIQ,CAHR,YAAA,CAEY,oBAFZ,EAEY,IAFZ,EAEY;sBADV;AAAA,aAAoB,CAApB,YAAA,CAAoB,eAApB,EAAoB;AAAd,QAAA,KAAK,EAAC;AAAQ,OAApB,CAAoB,CAApB;AAAA,K,CACU;;;;AAAA,GAFZ,CAGQ,CAJR,C","sourcesContent":["<template>\n<h1>{{mText}} {{yr}}</h1>\n<p>{{appointments}}</p>\n    <p>{{modalVisible}}</p>\n    <button @click=\"switchMo('prev')\">Prev</button>\n    <button @click=\"switchMo('next')\">Next</button>\n\n     <div class=\"grid grid-flow-row grid-cols-7 grid-rows-7 gap-4\"\n     :key=\"calendarKey\">\n      <div class=\"bg-white rounded-lg shadow-lg\"\n      v-for=\"calDay in calDays\" :key=\"calDay.day\">\n        <button @click =\"addAppt(calDay.day)\">{{calDay.day}}</button>\n          <div v-if=\"appointments\">\n            <!-- <div v-for=\"appt in result.getAppointments.filter(item => item.date === `${yr}-${mo}-${calDay.day}`)\" :key=\"appt._id\"> -->\n            <div v-for=\"appt in appointments.filter(item => item.date === `${yr}-${mo}-${calDay.day}`)\" :key=\"appt._id\">\n              <CardDay :dayDetails=\"appt\"/>\n            </div>\n        </div>\n\n      </div>\n  </div>\n\n    <div v-if=\"modalVisible ===  true\">\n    <ModalView>\n      <Meal class=\"z-50\"/>\n    </ModalView>\n      </div>\n</template>\n\n<script>\nimport Meal from '../../src/components/Meal'\nimport ModalView from '../../src/components/ModalView.vue'\nimport CardDay from '../../src/components/CardDay'\nimport { ref, onServerFetch, computed, watchEffect, watch } from 'vue'\nimport { useMealSelection } from '../../src/composables/meal.js'\nimport { useCalendar } from '../../src/composables/calendar.js'\nimport { useMutation, useQuery, result, variables, onDone, onResult, onError, useResult } from '@vue/apollo-composable'\nimport getAppointments from '../graphql/getAppointments.query.gql'\n\nexport default {\nsetup(props, context) {\n  let calendar = useCalendar()\n  // let appts = ref([])\n  const mealSelection = useMealSelection()\n  calendar.setInitialMo()\n  calendar.setInitialYr()\n  // let yr = ref('')\n  let reload = false\n  let cardDayKey = ref(0)\n  let calendarKey = ref(0)\n  let yr = ref(calendar.yrGetter)\n  let mo = ref(calendar.moGetter)\n  let apptsFrUseResult = ref(null)\n  let calDays = ref({})\n\nlet appointments = ref([])\nconst fetchPolicy = ref('cache-first')\nlet datesArr = calendar.createQueryDatesArr(mo.value, yr.value)\n\n    const addAppt = (day) => {\n      // debugger\n      mealSelection.setYear(calendar.yrGetter)\n      mealSelection.setMonth(calendar.moGetter)\n      mealSelection.setDay(day)\n      mealSelection.setDate()\n      mealSelection.setModMode('add')\n      // const dummyAppt = {appt: {date: \"d date\", meal: \"d meal\", details: \"d details\", kitchen: \"d kitchen\", user: \"d user\" }}\n      // const m = mealSelection.setMeal(dummyAppt)\n    mealSelection.makeModalVisible()\n      // console.log(m)\n      let mm = mealSelection.getModMode\n      console.log(mm)\n    }\n\n  const hideModal = function () {\n    mealSelection.hideModal()\n  }\n  calendar.setUpCalendarSquares()\n\n  const switchMo = (direction) => {\n    debugger\n    calendar.diffMo(direction)\n    datesArr = calendar.createQueryDatesArr(mo.value, yr.value)\n    // variables.value.date = datesArr\n    runQuery()\n  }\n\n\ncalendar.setUpCalendarSquares()\n\nconst { result, variables, onResult } = useQuery(getAppointments,\n      { date: datesArr },\n      { fetchPolicy: 'cache-first' }\n    )\n    // appointments.value = useResult(result)\n\nwatch(result, () => {\n  if (!result){\n  return;\n}\n  appointments.value = result\n  console.log(appointments.value)\n}, {\n  immediate: true\n}\n)\n\n\n    return {\n      calDays: calendar.calDaysGetter,\n      yr,\n      mo,\n      mText: calendar.moTextGetter,\n      modalVisible: mealSelection.getModalVisibility,\n      hideModal,\n      cardDayKey,\n      calendarKey,\n      addAppt,\n      switchMo,\n      apptsFrUseResult,\n      result,\n      appointments,\n      forceRerender: calendar.forceRerenderGetter\n    }\n},\n  name: \"GetKitchen\",\n  components: {\n    CardDay,\n    ModalView,\n    Meal\n  },\n  methods: {\n    update() {\n      debugger\n      this.$forceUpdate()\n    }\n  }\n\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"],"sourceRoot":""}]}