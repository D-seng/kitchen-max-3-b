{"remainingRequest":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/Home.vue?vue&type=template&id=fae5bece","dependencies":[{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/Home.vue","mtime":1638459620440},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js","mtime":1638459947335},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1638459950764},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js","mtime":1638459949352}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiaG9tZSIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgewogIGNsYXNzOiAidGV4dC1yZWQtNTAwIgp9LCAiSG9tZSBwYWdlIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSBbIm9uQ2xpY2siXTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgY2xhc3M6ICJtbC0yIgp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAubWVzc2FnZSksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmtpdGNoZW5zKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgPHA+e3t1c2VyfX08L3A+ICIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ1bCIsIG51bGwsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5raXRjaGVucywgZnVuY3Rpb24gKGspIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImxpIiwgewogICAgICBrZXk6IGsuX2lkCiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiBfY3R4LmRlbGV0ZUFuZFVwZGF0ZUNhY2hlKGsuX2lkKTsKICAgICAgfQogICAgfSwgIkRlbGV0ZSB0aGlzIGtpdGNoZW4iLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBfaG9pc3RlZF8zKSwgX2NyZWF0ZVRleHRWTm9kZSgiICIgKyBfdG9EaXNwbGF5U3RyaW5nKGsubmFtZSksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9ob2lzdGVkXzQsIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhrLl9pZCksIDEKICAgIC8qIFRFWFQgKi8KICAgICldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDxjbGQtaW1hZ2UgOnB1YmxpY0lkPVwieGh2OXBsa2w0c3k1ZnZmcm1sazJcIj48L2NsZC1pbWFnZT4gIildKV0pOwp9"},{"version":3,"sources":["/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/Home.vue"],"names":[],"mappings":";;;AACO,EAAA,KAAK,EAAC;;;8BACX,mBAAA,CAAuC,IAAvC,EAAuC;AAAnC,EAAA,KAAK,EAAC;AAA6B,CAAvC,EAAyB,WAAzB,EAAkC,CAAA;AAAA;AAAlC,C;;;;8BAQU,mBAAA,CAA2B,MAA3B,EAA2B;AAArB,EAAA,KAAK,EAAC;AAAe,CAA3B,EAAkB,IAAlB,EAAkB,CAAA;AAAA;AAAlB,C;;;uBATV,mBAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAdN,UAcM,EAZN,mBAAA,CAAkB,GAAlB,EAAkB,IAAlB,EAAkB,gBAAA,CAAb,MAAA,CAAA,OAAa,CAAlB,EAAY;AAAA;AAAZ,GAYM,EAXN,mBAAA,CAAmB,GAAnB,EAAmB,IAAnB,EAAmB,gBAAA,CAAd,MAAA,CAAA,QAAc,CAAnB,EAAa;AAAA;AAAb,GAWM,EAVN,mBAAA,CAAA,mBAAA,CAUM,EATN,mBAAA,CAMK,IANL,EAMK,IANL,EAMK,E,kBALL,mBAAA,CAGK,SAHL,EAGK,IAHL,EAGK,WAAA,CAHW,MAAA,CAAA,QAGX,EAHmB,UAAb,CAAa,EAAZ;yBAAZ,mBAAA,CAGK,IAHL,EAGK;AAHsB,MAAA,GAAG,EAAE,CAAC,CAAC;AAG7B,KAHL,E,CACA,mBAAA,CAAyE,QAAzE,EAAyE;AAAhE,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,IAAA,CAAA,oBAAA,CAAqB,CAAC,CAAC,GAAvB,CAAF;AAAA;AAA2D,KAAzE,EAA6C,qBAA7C,EAAgE;AAAA;AAAhE,MAAgE,UAAhE,C,mBAAyE,MACzE,gBAAA,CAAE,CAAC,CAAC,IAAJ,C,EAAQ;AAAA;OAAE,U,oCAA6B,CAAC,CAAC,G,GAAG;AAAA;MAF5C,C;GAGK,CAHL,E;;AAAA,GAKK,GADL,mBAAA,CAAA,8DAAA,CACK,CANL,CASM,CAfN,C","sourcesContent":["<template>\n  <div class=\"home\">\n  <h1 class=\"text-red-500\">Home page</h1>\n\n  <p>{{message}}</p>\n  <p>{{kitchens}}</p>\n  <!-- <p>{{user}}</p> -->\n  <ul>\n  <li v-for=\"k in kitchens\" :key=\"k._id\">\n  <button @click=\"deleteAndUpdateCache(k._id)\">Delete this kitchen</button>\n  {{k.name}}<span class=\"ml-2\"> </span>{{k._id}}\n  </li>\n  <!-- <cld-image :publicId=\"xhv9plkl4sy5fvfrmlk2\"></cld-image> -->\n  </ul>\n\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { ref } from 'vue'\nimport { useQuery, useResult, onResult, useMutation } from '@vue/apollo-composable'\nimport getKitchens from '../graphql/getKitchens.query.gql'\n\nimport getCurrentUserFromToken from '../graphql/getCurrentUserFromToken.query.gql'\nimport externalSetup from '../composables/externalSetup.js'\nimport deleteKitchenMutation from '../graphql/deleteKitchen.mutation.gql'\n// import { onBeforeRouteLeave, onBeforeRouteUpdate } from 'vue-router'\nimport { debugPort } from 'process'\n\n\nexport default {\n  name: \"Home\",\n  components: {\n\n  },\n  setup () {\n\n  const { my_thing, fetchSomething, validateUserByToken,addKitchenGuard, loading, error } = externalSetup();\nconst message = ref('hello there')\n    const { result } = useQuery(getKitchens)\n    // debugger\n    console.log('result', result)\n    const kitchens = useResult(result, null, data => data.getKitchens)\n    console.log('kitchens')\n    console.log( kitchens)\n\n// update is an Apollo hook made available on mutate by useMutation?\n\n//****WATCH VIDEO ON APOLLO CLIENT WITH NATALIA TEPLUNIHA AGAIN*******\n    // function deleteAndUpdateCache (id) {\n    //   deleteKitchen({id}, {\n    //   update: (store, {}) => {\n    //     const data = store.readQuery({query: getKitchens})\n    //     console.log('data', data)\n    //     const updatedData = data.getKitchens.filter(k => k._id !== id)\n    //     console.log('updatedData', updatedData)\n    //     store.writeQuery({query: getKitchens, data: { getKitchens: updatedData}})\n    //   }\n    // })\n    // }\n\n    return {\n      message,\n      kitchens\n      // deleteAndUpdateCache\n    }\n  }\n};\n</script>\n<style>\n\n</style>"],"sourceRoot":""}]}