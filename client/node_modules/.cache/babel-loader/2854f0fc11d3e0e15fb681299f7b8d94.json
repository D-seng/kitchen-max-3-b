{"remainingRequest":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/eslint-loader/index.js??ref--14-0!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/composables/calendar.js","dependencies":[{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/composables/calendar.js","mtime":1642833439548},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js","mtime":1638459947335},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/eslint-loader/index.js","mtime":1638459943811}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL1VzZXJzL2RhcnJlbnNlbmdlci93b3Jrc3BhY2UvY3VycmVudC9raXRjaGVuLW1heC0zLWIvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90YWdnZWRUZW1wbGF0ZUxpdGVyYWwuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9kYXJyZW5zZW5nZXIvd29ya3NwYWNlL2N1cnJlbnQva2l0Y2hlbi1tYXgtMy1iL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwoKdmFyIF90ZW1wbGF0ZU9iamVjdDsKCmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgeyByZWYsIGNvbXB1dGVkLCBvblNlcnZlclByZWZldGNoIH0gZnJvbSAndnVlJzsKaW1wb3J0IHVwZGF0ZUFwcG9pbnRtZW50IGZyb20gJy4uL2dyYXBocWwvdXBkYXRlQXBwb2ludG1lbnQubXV0YXRpb24uZ3FsJzsKaW1wb3J0IGdldEFwcG9pbnRtZW50cyBmcm9tICcuLi9ncmFwaHFsL2dldEFwcG9pbnRtZW50cy5xdWVyeS5ncWwnOwppbXBvcnQgY3JlYXRlQXBwb2ludG1lbnRzIGZyb20gJy4uL2dyYXBocWwvY3JlYXRlQXBwb2ludG1lbnRzLm11dGF0aW9uLmdxbCc7CmltcG9ydCBjcmVhdGVBcHBvaW50bWVudCBmcm9tICcuLi9ncmFwaHFsL2NyZWF0ZUFwcG9pbnRtZW50Lm11dGF0aW9uLmdxbCc7CmltcG9ydCB7IGxvZ0Vycm9yTWVzc2FnZXMgfSBmcm9tICdAdnVlL2Fwb2xsby11dGlsJzsKaW1wb3J0IHsgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5LCBvbkRvbmUsIG9uUmVzdWx0LCB1c2VSZXN1bHQgfSBmcm9tICdAdnVlL2Fwb2xsby1jb21wb3NhYmxlJzsKaW1wb3J0IHVzZU1lYWxTZWxlY3Rpb24gZnJvbSAnLi9tZWFsLmpzJzsKaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7CnZhciBzdGF0ZSA9IHJlZih7CiAgY2FsRGF5czogW10sCiAgYXBwdHM6IHt9LAogIG1vOiAnJywKICB5cjogJycsCiAgbW9UZXh0OiAnJywKICBjYXJkRGF5S2V5OiAwLAogIGRhdGVzQXJyOiBbXSwKICBjYWxlbmRhcktleTogMAp9KTsKdmFyIGRhdGVzQXJyID0gW107CnZhciBtZWFsU2VsZWN0aW9uID0gdXNlTWVhbFNlbGVjdGlvbigpOwpleHBvcnQgdmFyIHVzZUNhbGVuZGFyID0gZnVuY3Rpb24gdXNlQ2FsZW5kYXIoKSB7CiAgLy8gUmVtb3ZlIHRoaXMgZnJvbSBnbG9iYWwgc2NvcGU7IGdldCBkYXlzLCBtb3MsIHlycyBsb2NhbGx5LgogIHZhciByZXJlbmRlciA9IDA7IC8vIGNvbnN0IGQyID0gZC50b1N0cmluZygpLmxlbmd0aCA8IDIgPyAnMCcgKyBkIDogZC50b1N0cmluZygpCiAgLy8gY29uc3QgZGF5ID0gcmVmKGQyKQoKICB2YXIgZmlyc3REYXlPZk1vID0gJyc7CiAgdmFyIGZpcnN0RGF5T2ZNb0RheU5vID0gJyc7CiAgdmFyIGxhc3REYXlPZk1vID0gJyc7CiAgdmFyIGxhc3REYXlPZlByZXZNbyA9ICcnOyAvLyBsZXQgbGFzdERheU9mTW8gPSAnJwogIC8vIGNvbnN0IGxhc3REYXlPZk1vRGF5Tm8gPSBsYXN0RGF5T2ZNby5nZXREYXkoKQogIC8vIE5lZWQgY2FsRGF5cyBzZXR0ZXIgYW5kIGdldHRlcgoKICB2YXIgY2FsRGF5cyA9IFtdOyAvLyBkZWJ1Z2dlcgogIC8vIFNFVFRFUlMgQU5EIEdFVFRFUlMKCiAgdmFyIGNhbERheXNTZXR0ZXIgPSBmdW5jdGlvbiBjYWxEYXlzU2V0dGVyKGNhbERheXMpIHsKICAgIHN0YXRlLnZhbHVlLmNhbERheXMgPSBjYWxEYXlzOwogIH07CgogIHZhciBhcHB0c1NldHRlciA9IGZ1bmN0aW9uIGFwcHRzU2V0dGVyKGFwcHRzKSB7CiAgICAvLyBkZWJ1Z2dlcgogICAgc3RhdGUudmFsdWUuYXBwdHMgPSBhcHB0czsKICB9OwoKICB2YXIgY2FsZW5kYXJLZXlTZXR0ZXIgPSBmdW5jdGlvbiBjYWxlbmRhcktleVNldHRlcigpIHsKICAgIHN0YXRlLnZhbHVlLmNhbGVuZGFyS2V5ID0gc3RhdGUudmFsdWUuY2FsZW5kYXJLZXkgKyAxOwogIH07CgogIHZhciBjYXJkRGF5S2V5U2V0dGVyID0gZnVuY3Rpb24gY2FyZERheUtleVNldHRlcigpIHsKICAgIHN0YXRlLnZhbHVlLmNhcmREYXlLZXkgPSBzdGF0ZS52YWx1ZS5jYXJkRGF5S2V5ICsgMTsKICB9OwoKICB2YXIgZGF0ZXNBcnJTZXR0ZXIgPSBmdW5jdGlvbiBkYXRlc0FyclNldHRlcihkYXRlc0FycikgewogICAgc3RhdGUudmFsdWUuZGF0ZXNBcnIgPSBkYXRlc0FycjsKICB9OwoKICB2YXIgZm9yY2VSZXJlbmRlclNldHRlciA9IGZ1bmN0aW9uIGZvcmNlUmVyZW5kZXJTZXR0ZXIoKSB7CiAgICBzdGF0ZS52YWx1ZS5mb3JjZVJlcmVuZGVyICs9IDE7CiAgfTsKCiAgdmFyIGNhbERheXNHZXR0ZXIgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc3RhdGUudmFsdWUuY2FsRGF5czsKICB9KTsKICB2YXIgYXBwdHNHZXR0ZXIgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc3RhdGUudmFsdWUuYXBwdHM7CiAgfSk7CiAgdmFyIGNhcmREYXlLZXlHZXR0ZXIgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc3RhdGUudmFsdWUuY2FyZERheUtleTsKICB9KTsKICB2YXIgY2FsZW5kYXJLZXlHZXR0ZXIgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc3RhdGUudmFsdWUuY2FsZW5kYXJLZXk7CiAgfSk7CiAgdmFyIG1vVGV4dEdldHRlciA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzZXRNb1RleHQoc3RhdGUudmFsdWUubW8pOwogIH0pOwogIHZhciBtb0dldHRlciA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzdGF0ZS52YWx1ZS5tbzsKICB9KTsKICB2YXIgeXJHZXR0ZXIgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc3RhdGUudmFsdWUueXI7CiAgfSk7CiAgdmFyIGRhdGVzQXJyR2V0dGVyID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHN0YXRlLnZhbHVlLmRhdGVzQXJyOwogIH0pOwogIHZhciBmb3JjZVJlcmVuZGVyR2V0dGVyID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHN0YXRlLnZhbHVlLmZvcmNlcmVyZW5kZXI7CiAgfSk7IC8vKiAqKioqKioqKioqKioKICAvLyB3YXRjaEVmZmVjdCgoKSA9PiBhbGVydChhcHB0cy52YWx1ZSkpCgogIHZhciBzZXRJbml0aWFsTW8gPSBmdW5jdGlvbiBzZXRJbml0aWFsTW8oKSB7CiAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgdmFyIG0gPSB0b2RheS5nZXRNb250aCgpICsgMTsKICAgIHZhciBtMiA9IG0udG9TdHJpbmcoKS5sZW5ndGggPCAyID8gJzAnICsgbSA6IG0udG9TdHJpbmcoKTsgLy8gZGVidWdnZXIKCiAgICBzdGF0ZS52YWx1ZS5tbyA9IG0yOwogICAgc2V0TW9UZXh0KG0yKTsKICB9OwoKICB2YXIgc2V0SW5pdGlhbFlyID0gZnVuY3Rpb24gc2V0SW5pdGlhbFlyKCkgewogICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgIHN0YXRlLnZhbHVlLnlyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTsKICB9OwoKICB2YXIgc2V0TW9UZXh0ID0gZnVuY3Rpb24gc2V0TW9UZXh0KG0pIHsKICAgIHZhciBtb3NUb1RleHQgPSB7CiAgICAgIDE6ICdKYW51YXJ5JywKICAgICAgMjogJ0ZlYnJ1YXJ5JywKICAgICAgMzogJ01hcmNoJywKICAgICAgNDogJ0FwcmlsJywKICAgICAgNTogJ01heScsCiAgICAgIDY6ICdKdW5lJywKICAgICAgNzogJ0p1bHknLAogICAgICA4OiAnQXVndXN0JywKICAgICAgOTogJ1NlcHRlbWJlcicsCiAgICAgIDEwOiAnT2N0b2JlcicsCiAgICAgIDExOiAnTm92ZW1iZXInLAogICAgICAxMjogJ0RlY2VtYmVyJwogICAgfTsKICAgIHN0YXRlLnZhbHVlLm1vVGV4dCA9IG1vc1RvVGV4dFtwYXJzZUludChtKV07CiAgICByZXR1cm4gc3RhdGUudmFsdWUubW9UZXh0OwogIH07CgogIHZhciB0b05leHQgPSB7CiAgICBsaW1pdGluZ01vOiAnMTInLAogICAgbmV3TW86ICcwMScsCiAgICB5ckluY3I6IDEsCiAgICBtb0luY3I6IDEKICB9OwogIHZhciB0b1ByZXYgPSB7CiAgICBsaW1pdGluZ01vOiAnMDEnLAogICAgbmV3TW86ICcxMicsCiAgICB5ckluY3I6IC0xLAogICAgbW9JbmNyOiAtMQogIH07CgogIGZ1bmN0aW9uIGRpZmZNbyh0KSB7CiAgICAvLyBkZWJ1Z2dlcgogICAgLy8gdXNlQ2FsZW5kYXIoKQogICAgdmFyIHRvID0ge307CiAgICB0ID09PSAnbmV4dCcgPyB0byA9IHRvTmV4dCA6IHRvID0gdG9QcmV2OwoKICAgIGlmIChzdGF0ZS52YWx1ZS5tbyA9PT0gdG8ubGltaXRpbmdNbykgewogICAgICAvLyBkZWJ1Z2dlcgogICAgICB2YXIgeXIgPSBwYXJzZUludChzdGF0ZS52YWx1ZS55cik7CiAgICAgIHlyID0geXIgKyB0by55ckluY3I7CiAgICAgIHN0YXRlLnZhbHVlLnlyID0geXIudG9TdHJpbmcoKTsKICAgICAgc3RhdGUudmFsdWUubW8gPSB0by5uZXdNbzsKICAgIH0gZWxzZSB7CiAgICAgIC8vIGRlYnVnZ2VyCiAgICAgIHZhciBtbyA9IHN0YXRlLnZhbHVlLm1vICogMSArIHRvLm1vSW5jcjsKICAgICAgdmFyIGtvbnZlcnQgPSBtby50b1N0cmluZygpLmxlbmd0aCA9PT0gMSA/ICcwJyArIG1vIDogbW8udG9TdHJpbmcoKTsgLy8gZGVidWdnZXIKCiAgICAgIHN0YXRlLnZhbHVlLm1vID0ga29udmVydDsgLy8gZGVidWdnZXIKICAgICAgLy8gZGVidWdnZXIKICAgIH0gLy8gZGVidWdnZXIKICAgIC8vIGdBKG1tKQoKICB9IC8vIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKQogIC8vIGNvbnN0IG0gPSB0b2RheS5nZXRNb250aCgpICsgMQogIC8vIGNvbnN0IG0yID0gbS50b1N0cmluZygpLmxlbmd0aCA8IDIgPyAnMCcgKyBtIDogbS50b1N0cmluZygpCiAgLy8gc3RhdGUudmFsdWUueXIgPSB0b2RheS5nZXRGdWxsWWVhcigpCiAgLy8gc3RhdGUudmFsdWUubW8gPSBtMgogIC8vIGRhdGVzQXJyID0gW10KCgogIGZ1bmN0aW9uIGNyZWF0ZVF1ZXJ5RGF0ZXNBcnIobSwgeSkgewogICAgLy8gZGVidWdnZXIKICAgIGRhdGVzQXJyID0gW107IC8vIGNvbnN0IHkgPSBzdGF0ZS52YWx1ZS55cgogICAgLy8gLy8gZGVidWdnZXIKICAgIC8vIGxldCBtID0gc3RhdGUudmFsdWUubW8KICAgIC8vIHN0YXRlLnZhbHVlLm1vID0gbQogICAgLy8gc3RhdGUudmFsdWUueXIgPSB5CgogICAgdmFyIG1NaW51c09uZSA9IG0gLSAxOwogICAgZmlyc3REYXlPZk1vID0gbmV3IERhdGUoeSwgbU1pbnVzT25lLCAxKTsKICAgIGZpcnN0RGF5T2ZNb0RheU5vID0gZmlyc3REYXlPZk1vLmdldERheSgpOwogICAgbGFzdERheU9mTW8gPSBuZXcgRGF0ZSh5LCBtLCAwKS5nZXREYXRlKCk7CiAgICBsYXN0RGF5T2ZQcmV2TW8gPSBuZXcgRGF0ZSh5LCBtTWludXNPbmUsIDApLmdldERhdGUoKTsKICAgIHZhciBkYXlzSW5NbyA9IG5ldyBEYXRlKHksIG0sIDApLmdldERhdGUoKTsKICAgIHZhciBkID0gZmlyc3REYXlPZk1vLmdldERheSgpICsgMTsgLy8gZGVidWdnZXIKCiAgICBpZiAobS50b1N0cmluZygpLmxlbmd0aCA8IDIpIHsKICAgICAgbSA9ICcwJyArIG07CiAgICB9CgogICAgaWYgKGQudG9TdHJpbmcoKS5sZW5ndGggPCAyKSB7CiAgICAgIGQgPSAnMCcgKyBkOwogICAgfSAvLyBhbGVydCh5LnRvU3RyaW5nKCkgKyBtLnRvU3RyaW5nKCkgKyBkLnRvU3RyaW5nKCkpCiAgICAvLyBkZWJ1Z2dlcgoKCiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBkYXlzSW5NbzsgaSsrKSB7CiAgICAgIHZhciBpcyA9IGkudG9TdHJpbmcoKTsKCiAgICAgIGlmIChpcy5sZW5ndGggPCAyKSB7CiAgICAgICAgaXMgPSAnMCcgKyBpczsKICAgICAgfQoKICAgICAgZGF0ZXNBcnIucHVzaCgiIi5jb25jYXQoeSwgIi0iKS5jb25jYXQobSwgIi0iKS5jb25jYXQoaXMpKTsKICAgIH0KCiAgICByZXR1cm4gZGF0ZXNBcnI7CiAgfQoKICB2YXIgY2RUcnVlID0gW107CgogIGZ1bmN0aW9uIHNldFVwQ2FsZW5kYXJTcXVhcmVzKCkgewogICAgLy8gZGVidWdnZXIKICAgIHZhciBzID0gJyc7CiAgICB2YXIgY2FsRGF5cyA9IFtdOyAvLyBkZWJ1Z2dlcgogICAgLy8gaWYgKGNhbERheXMudmFsdWUubGVuZ3RoID09PSAwKSB7CgogICAgdmFyIGQgPSAwOwoKICAgIGZvciAodmFyIGogPSA2OyBqID49IDcgLSBmaXJzdERheU9mTW9EYXlObzsgai0tKSB7CiAgICAgIHMgPSAobGFzdERheU9mUHJldk1vIC0gZCkudG9TdHJpbmcoKTsgLy8gZGVidWdnZXIKCiAgICAgIHMgPSBzLmxlbmd0aCA8IDIgPyAnMCcgKyBzIDogczsKICAgICAgY2FsRGF5cy51bnNoaWZ0KHsKICAgICAgICBkYXk6IHMsCiAgICAgICAgY291bnQ6IGZhbHNlCiAgICAgIH0pOwogICAgICBkICs9IDE7CiAgICB9IC8vIGRlYnVnZ2VyCiAgICAvLyBjb25zdCBzdWJqZWN0TW8gPSBkYXRlcyAgQXJyCiAgICAvLyBkZWJ1Z2dlcgoKCiAgICB2YXIgc3ViamVjdE1vMiA9IGRhdGVzQXJyLm1hcChmdW5jdGlvbiAoeCkgewogICAgICB2YXIgcGFydHMgPSB4LnNwbGl0KCctJyk7IC8vIGRlYnVnZ2VyCgogICAgICB2YXIgZHQgPSBuZXcgRGF0ZShwYXJ0c1swXSwgcGFyc2VJbnQocGFydHNbMV0pIC0gMSwgcGFydHNbMl0pOwogICAgICB2YXIgZCA9IGR0LmdldERhdGUoKTsKICAgICAgdmFyIHMgPSBkLnRvU3RyaW5nKCkubGVuZ3RoIDwgMiA/ICcwJyArIGQgOiBkLnRvU3RyaW5nKCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGF5OiBzLAogICAgICAgIGNvdW50OiB0cnVlCiAgICAgIH07CiAgICB9KTsgLy8gZGVidWdnZXIKCiAgICBjYWxEYXlzLnB1c2guYXBwbHkoY2FsRGF5cywgX3RvQ29uc3VtYWJsZUFycmF5KHN1YmplY3RNbzIpKTsKICAgIHZhciBsZW5ndGggPSBjYWxEYXlzLmxlbmd0aDsKCiAgICBmb3IgKHZhciBfaiA9IDE7IF9qIDw9IDM1IC0gbGVuZ3RoOyBfaisrKSB7CiAgICAgIHMgPSBfai50b1N0cmluZygpLmxlbmd0aCA8IDIgPyAnMCcgKyBfaiA6IF9qOwogICAgICBjYWxEYXlzLnB1c2goewogICAgICAgIGRheTogcywKICAgICAgICBjb3VudDogZmFsc2UKICAgICAgfSk7CiAgICB9IC8vIH0KICAgIC8vIGRlYnVnZ2VyCgoKICAgIGNhbERheXNTZXR0ZXIoY2FsRGF5cyk7CiAgICBjZFRydWUgPSBjYWxEYXlzLmZpbHRlcihmdW5jdGlvbiAoZGF5KSB7CiAgICAgIHJldHVybiBkYXkuY291bnQgPT09IHRydWU7CiAgICB9KTsgLy8gZGVidWdndWVyCgogICAgcmV0dXJuIGNkVHJ1ZTsKICB9CgogIHZhciBnZW5lcmF0ZUFwcHRzID0gZnVuY3Rpb24gZ2VuZXJhdGVBcHB0cyhjYkFwcHRzKSB7CiAgICB2YXIgYXBwdHMgPSB7fTsgLy8gZGVidWdnZXIKCiAgICB2YXIgcyA9ICcnOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2RUcnVlLmxlbmd0aDsgaSsrKSB7CiAgICAgIC8vIGRlYnVnZ2VyCiAgICAgIHMgPSBjZFRydWVbaV0uZGF5LnRvU3RyaW5nKCk7CiAgICAgIHMgPSBzLmxlbmd0aCA8IDIgPyAnMCcgKyBzIDogczsKICAgICAgdmFyIHJlc3VsdCA9IGNiQXBwdHMuZmlsdGVyKGZ1bmN0aW9uIChhcHB0KSB7CiAgICAgICAgcmV0dXJuIGFwcHQuZGF0ZS5zdWJzdHJpbmcoYXBwdC5kYXRlLmxlbmd0aCAtIDIpID09PSBzOwogICAgICB9KTsKCiAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBhcnIgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCByZXN1bHQubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgYXBwdDogewogICAgICAgICAgICAgIGRheTogcmVzdWx0W2tdLmRhdGUsCiAgICAgICAgICAgICAgbWVhbDogcmVzdWx0W2tdLm1lYWwsCiAgICAgICAgICAgICAgX2lkOiByZXN1bHRba10uX2lkLAogICAgICAgICAgICAgIGRldGFpbHM6IHJlc3VsdFtrXS5kZXRhaWxzLAogICAgICAgICAgICAgIGtpdGNoZW46IHJlc3VsdFtrXS5raXRjaGVuCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgYXBwdHNbIiIuY29uY2F0KHN0YXRlLnZhbHVlLnlyLCAiLSIpLmNvbmNhdChzdGF0ZS52YWx1ZS5tbywgIi0iKS5jb25jYXQocyldID0gYXJyOwogICAgICB9CiAgICB9IC8vIGRlYnVnZ2VyCgoKICAgIGFwcHRzU2V0dGVyKGFwcHRzKTsKICAgIHJldHVybiBhcHB0czsKICB9OyAvLyAiQHZ1ZS9hcG9sbG8tY29tcG9zYWJsZSI6ICJeNC4wLjAtYWxwaGEuMTUiLAogIC8vICJAdnVlL2Fwb2xsby1vcHRpb24iOiAiXjQuMC4wLWFscGhhLjE1IiwKICAvLyAiQHZ1ZS9hcG9sbG8tdXRpbCI6ICJeNC4wLjAtYWxwaGEuMTUiLAoKCiAgZnVuY3Rpb24gY3JlYXRlQXBwdChteUFwcHQpIHsKICAgIGRlYnVnZ2VyOwoKICAgIHZhciBfdXNlTXV0YXRpb24gPSB1c2VNdXRhdGlvbihjcmVhdGVBcHBvaW50bWVudCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gewogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAga2l0Y2hlbjogbXlBcHB0LmtpdGNoZW4sCiAgICAgICAgICB1c2VyOiBteUFwcHQudXNlciwKICAgICAgICAgIGRhdGU6IG15QXBwdC5kYXRlLAogICAgICAgICAgbWVhbDogbXlBcHB0Lm1lYWwsCiAgICAgICAgICBkZXRhaWxzOiBteUFwcHQuZGV0YWlscwogICAgICAgIH0sCiAgICAgICAgcmVmZXRjaFF1ZXJpZXM6IFtnZXRBcHBvaW50bWVudHMsICdnZXRBcHBvaW50bWVudHMnXQogICAgICB9OwogICAgfSksCiAgICAgICAgY3JlYXRlQXBwdCA9IF91c2VNdXRhdGlvbi5tdXRhdGUsCiAgICAgICAgb25Eb25lID0gX3VzZU11dGF0aW9uLm9uRG9uZTsgLy8gZGVidWdnZXIKICAgIC8vIGNvbnNvbGUubG9nKG1lYWwpCgoKICAgIHRyeSB7CiAgICAgIGNyZWF0ZUFwcHQoKTsgLy8gZGVidWdnZXIKCiAgICAgIG9uRG9uZShmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhcHB0JywgJ2Zha2UgYXBwdCcpOwogICAgICAgIGFwcHRzU2V0dGVyKHJlc3VsdCk7CiAgICAgICAgbWVhbFNlbGVjdGlvbi5jbG9zZU1vZGFsKCk7CiAgICAgICAgZm9yY2VSZXJlbmRlclNldHRlcigpOyAvLyBjYXJkRGF5S2V5U2V0dGVyKCkKICAgICAgICAvLyByb3V0ZXIucHVzaCgnLycpCiAgICAgIH0pOwogICAgfSBjYXRjaCAoX3VudXNlZCkgewogICAgICAoZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY3JlYXRlQXBwdHMobXlBcHB0KSB7CiAgICB2YXIgX3VzZU11dGF0aW9uMiA9IHVzZU11dGF0aW9uKGNyZWF0ZUFwcG9pbnRtZW50cywgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gewogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAga2l0Y2hlbjogbXlBcHB0LmtpdGNoZW4sCiAgICAgICAgICB1c2VyOiBteUFwcHQudXNlciwKICAgICAgICAgIGRhdGVzOiBbbXlBcHB0LmRhdGVdLAogICAgICAgICAgbWVhbHM6IFtteUFwcHQubWVhbF0sCiAgICAgICAgICBkZXRhaWxzOiBbbXlBcHB0LmRldGFpbHNdCiAgICAgICAgfSwKICAgICAgICByZWZldGNoUXVlcmllczogW2dldEFwcG9pbnRtZW50cywgJ2dldEFwcG9pbnRtZW50cyddCiAgICAgIH07CiAgICB9KSwKICAgICAgICBjcmVhdGVBcHB0ID0gX3VzZU11dGF0aW9uMi5tdXRhdGUsCiAgICAgICAgb25Eb25lID0gX3VzZU11dGF0aW9uMi5vbkRvbmU7IC8vIGRlYnVnZ2VyCiAgICAvLyBjb25zb2xlLmxvZyhtZWFsKQoKCiAgICB0cnkgewogICAgICBjcmVhdGVBcHB0KCk7IC8vIGRlYnVnZ2VyCgogICAgICBvbkRvbmUoZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXBwdCcsICdmYWtlIGFwcHQnKTsKICAgICAgICBhcHB0c1NldHRlcihyZXN1bHQpOwogICAgICAgIG1lYWxTZWxlY3Rpb24uY2xvc2VNb2RhbCgpOyAvLyBjYXJkRGF5S2V5U2V0dGVyKCkKICAgICAgICAvLyByb3V0ZXIucHVzaCgnLycpCiAgICAgIH0pOwogICAgfSBjYXRjaCAoX3VudXNlZDIpIHsKICAgICAgKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHVwZGF0ZUFwcHQobXlBcHB0KSB7CiAgICBkZWJ1Z2dlcjsgLy8gZGF0ZXNBcnIgPSBjcmVhdGVRdWVyeURhdGVzQXJyKG15QXBwdC5kYXRlLnN1YnN0cmluZyg1LCA3KSwgbXlBcHB0LmRhdGUuc3Vic3RyaW5nKDAsIDQpKQoKICAgIGRlYnVnZ2VyOwogICAgdmFyIG15QXBwdFZhcmlhYmxlcyA9IHsKICAgICAgX2lkOiBteUFwcHQuX2lkLAogICAgICBkYXRlOiBteUFwcHQuZGF0ZSwKICAgICAgbWVhbDogbXlBcHB0Lm1lYWwsCiAgICAgIGRldGFpbHM6IG15QXBwdC5kZXRhaWxzLAogICAgICBraXRjaGVuOiBteUFwcHQua2l0Y2hlbiwKICAgICAgdXNlcjogbXlBcHB0LnVzZXIKICAgIH07CgogICAgdmFyIF91c2VNdXRhdGlvbjMgPSB1c2VNdXRhdGlvbih1cGRhdGVBcHBvaW50bWVudCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gewogICAgICAgIHZhcmlhYmxlczogbXlBcHB0VmFyaWFibGVzCiAgICAgIH0gLy8gICAgICAgewogICAgICAvLyAgcmVmZXRjaFF1ZXJpZXM6IFsKICAgICAgLy8gICAgICAgICBnZXRBcHBvaW50bWVudHMsCiAgICAgIC8vICAgICAgICAgJ2dldEFwcG9pbnRtZW50cycKICAgICAgLy8gICAgICAgXQogICAgICAvLyAgfQogICAgICA7CiAgICB9KSwKICAgICAgICB1cGRhdGVBcHB0TSA9IF91c2VNdXRhdGlvbjMubXV0YXRlOwoKICAgIHRyeSB7CiAgICAgIHVwZGF0ZUFwcHRNKCk7CiAgICB9IGNhdGNoIChfdW51c2VkMykgewogICAgICAoZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdXBkYXRlQXBwdF9IT0xEKG15QXBwdCkgewogICAgZGVidWdnZXI7CiAgICBkYXRlc0FyciA9IGNyZWF0ZVF1ZXJ5RGF0ZXNBcnIobXlBcHB0LmRhdGUuc3Vic3RyaW5nKDUsIDcpLCBteUFwcHQuZGF0ZS5zdWJzdHJpbmcoMCwgNCkpOwogICAgZGVidWdnZXI7IC8vIGNvbnNvbGUubG9nKGRhdGVzQXJyKQogICAgLy8gY29uc3QgeyByZXN1bHQgfSA9IHVzZVF1ZXJ5KGdldEFwcG9pbnRtZW50cywKICAgIC8vICAgeyBkYXRlczogZGF0ZXNBcnIgfQogICAgLy8gKQogICAgLy8gY29uc3QgYXBwdHMgPSB1c2VSZXN1bHQocmVzdWx0LCBbXSkKCiAgICB2YXIgbXlBcHB0VmFyaWFibGVzID0gewogICAgICBfaWQ6IG15QXBwdC5faWQsCiAgICAgIGRhdGU6IG15QXBwdC5kYXRlLAogICAgICBtZWFsOiBteUFwcHQubWVhbCwKICAgICAgZGV0YWlsczogbXlBcHB0LmRldGFpbHMsCiAgICAgIGtpdGNoZW46IG15QXBwdC5raXRjaGVuLAogICAgICB1c2VyOiBteUFwcHQudXNlcgogICAgfTsKCiAgICB2YXIgX3VzZU11dGF0aW9uNCA9IHVzZU11dGF0aW9uKHVwZGF0ZUFwcG9pbnRtZW50LCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdmFyaWFibGVzOiBteUFwcHRWYXJpYWJsZXMsCiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoY2FjaGUsIF9yZWYpIHsKICAgICAgICAgIHZhciBteUFwcHRWYXJpYWJsZXMgPSBfcmVmLmRhdGEubXlBcHB0VmFyaWFibGVzOwogICAgICAgICAgZGVidWdnZXI7CiAgICAgICAgICBjYWNoZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgICAgcXVlcnk6IGdxbChfdGVtcGxhdGVPYmplY3QgfHwgKF90ZW1wbGF0ZU9iamVjdCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgIHF1ZXJ5IFdyaXRlQXBwb2ludG1lbnQoJGlkOiBJRCEpIHtcbiAgICAgICAgICAgICAgQXBwb2ludG1lbnQoX2lkOiAkaWQpIHtcbiAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICBkYXRlXG4gICAgICAgICAgICAgICAgbWVhbFxuICAgICAgICAgICAgICAgIGRldGFpbHNcbiAgICAgICAgICAgICAgICBraXRjaGVuXG4gICAgICAgICAgICAgICAgdXNlclxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9Il0pKSksCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBBcHBvaW50bWVudDogewogICAgICAgICAgICAgICAgX190eXBlbmFtZTogJ0FwcG9pbnRtZW50JywKICAgICAgICAgICAgICAgIF9pZDogbXlBcHB0Ll9pZCwKICAgICAgICAgICAgICAgIGRhdGU6IG15QXBwdC5kYXRlLAogICAgICAgICAgICAgICAgbWVhbDogbXlBcHB0Lm1lYWwsCiAgICAgICAgICAgICAgICBkZXRhaWxzOiBteUFwcHQuZGV0YWlscywKICAgICAgICAgICAgICAgIGtpdGNoZW46IG15QXBwdC5raXRjaGVuLAogICAgICAgICAgICAgICAgdXNlcjogbXlBcHB0LnVzZXIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgZGVidWdnZXI7CiAgICAgICAgICB2YXIgZGF0YSA9IGNhY2hlLnJlYWRRdWVyeSh7CiAgICAgICAgICAgIHF1ZXJ5OiBnZXRBcHBvaW50bWVudHMsCiAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgIGRhdGU6IGRhdGVzQXJyCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIHVwZGF0ZWRDYWNoZWRBcHB0ID0gY2FjaGUucmVhZFF1ZXJ5KHsKICAgICAgICAgICAgcXVlcnk6IGdldEFwcG9pbnRtZW50cywKICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgZGF0ZTogW215QXBwdC5kYXRlXQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGRhdGEuZ2V0QXBwb2ludG1lbnRzLnB1c2godXBkYXRlZENhY2hlZEFwcHQpOwogICAgICAgICAgY2FjaGUud3JpdGVRdWVyeSh7CiAgICAgICAgICAgIHF1ZXJ5OiBnZXRBcHBvaW50bWVudHMsCiAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKICAgIH0pLAogICAgICAgIHVwZGF0ZUFwcHRNID0gX3VzZU11dGF0aW9uNC5tdXRhdGU7CgogICAgdHJ5IHsKICAgICAgdXBkYXRlQXBwdE0oKTsKICAgICAgb25Eb25lKGZ1bmN0aW9uIChjYWNoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGNhY2hlKTsKICAgICAgfSk7CiAgICB9IGNhdGNoIChfdW51c2VkNCkgewogICAgICAoZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0KCiAgdmFyIGRheXMgPSB7CiAgICAwOiAnU3VuJywKICAgIDE6ICdNb24nLAogICAgMjogJ1R1ZScsCiAgICAzOiAnV2VkJywKICAgIDQ6ICdUaHUnLAogICAgNTogJ0ZyaScsCiAgICA2OiAnU2F0JwogIH07CiAgcmV0dXJuIHsKICAgIGFwcHRzU2V0dGVyOiBhcHB0c1NldHRlciwKICAgIGFwcHRzR2V0dGVyOiBhcHB0c0dldHRlciwKICAgIGNhbERheXM6IGNhbERheXMsCiAgICBjYWxEYXlzR2V0dGVyOiBjYWxEYXlzR2V0dGVyLAogICAgZGF5czogZGF5cywKICAgIGZvcmNlUmVyZW5kZXJHZXR0ZXI6IGZvcmNlUmVyZW5kZXJHZXR0ZXIsCiAgICB1cGRhdGVBcHB0OiB1cGRhdGVBcHB0LAogICAgeXJHZXR0ZXI6IHlyR2V0dGVyLAogICAgY3JlYXRlQXBwdHM6IGNyZWF0ZUFwcHRzLAogICAgbW9UZXh0R2V0dGVyOiBtb1RleHRHZXR0ZXIsCiAgICBzZXRJbml0aWFsTW86IHNldEluaXRpYWxNbywKICAgIG1vR2V0dGVyOiBtb0dldHRlciwKICAgIHNldEluaXRpYWxZcjogc2V0SW5pdGlhbFlyLAogICAgc2V0TW9UZXh0OiBzZXRNb1RleHQsCiAgICBkaWZmTW86IGRpZmZNbywKICAgIGNhcmREYXlLZXlTZXR0ZXI6IGNhcmREYXlLZXlTZXR0ZXIsCiAgICBjYXJkRGF5S2V5R2V0dGVyOiBjYXJkRGF5S2V5R2V0dGVyLAogICAgY3JlYXRlUXVlcnlEYXRlc0FycjogY3JlYXRlUXVlcnlEYXRlc0FyciwKICAgIGdlbmVyYXRlQXBwdHM6IGdlbmVyYXRlQXBwdHMsCiAgICBzZXRVcENhbGVuZGFyU3F1YXJlczogc2V0VXBDYWxlbmRhclNxdWFyZXMsCiAgICBjYWxlbmRhcktleUdldHRlcjogY2FsZW5kYXJLZXlHZXR0ZXIsCiAgICBjYWxlbmRhcktleVNldHRlcjogY2FsZW5kYXJLZXlTZXR0ZXIsCiAgICBjcmVhdGVBcHB0OiBjcmVhdGVBcHB0CiAgfTsKfTsKZXhwb3J0IGRlZmF1bHQgdXNlQ2FsZW5kYXI7IC8vICB1cGRhdGU6IChzdG9yZSwge30pID0+IHsKLy8gICAgZGVidWdnZXIKLy8gICAgLy8gIGNvbnN0IGlkVG9SZW1vdmUgPSBteUFwcHQuX2lkCi8vICAgIC8vIHN0b3JlLm1vZGlmeQovLyAgICAvLyAgc3RvcmUubW9kaWZ5KHsKLy8gICAgLy8gICAgaWQ6IHN0b3JlLmlkZW50aWZ5KG15QXBwdCkKLy8gICAgLy8gIH0pCi8vICAgIC8vICBnZXRBcHBvaW50bWVudHMoZGF0ZTogJGRhdGUpCi8vICAgIC8vCi8vICAgIGNvbnN0IGRhdGEgPSBzdG9yZS5yZWFkUXVlcnkoewovLyAgICAgIHF1ZXJ5OiBnZXRBcHBvaW50bWVudHMsCi8vICAgICAgdmFyaWFibGVzOiB7IGRhdGU6IGRhdGVzQXJyIH0KLy8gICAgfSkKLy8gICAgY29uc29sZS5sb2coJyoqKioqKioqKionKQovLyAgICAvLyAgYXBwdHMudmFsdWUgPSBkYXRhLmdldEFwcG9pbnRtZW50cwovLyAgICBjb25zb2xlLmxvZyhkYXRhLmdldEFwcG9pbnRtZW50cykKLy8gICAgY29uc29sZS5kaXIoc3RvcmUpCi8vICAgIGRlYnVnZ2VyCi8vICB9LA=="},{"version":3,"sources":["/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/composables/calendar.js"],"names":["ref","computed","onServerPrefetch","updateAppointment","getAppointments","createAppointments","createAppointment","logErrorMessages","useMutation","useQuery","onDone","onResult","useResult","useMealSelection","gql","state","calDays","appts","mo","yr","moText","cardDayKey","datesArr","calendarKey","mealSelection","useCalendar","rerender","firstDayOfMo","firstDayOfMoDayNo","lastDayOfMo","lastDayOfPrevMo","calDaysSetter","value","apptsSetter","calendarKeySetter","cardDayKeySetter","datesArrSetter","forceRerenderSetter","forceRerender","calDaysGetter","apptsGetter","cardDayKeyGetter","calendarKeyGetter","moTextGetter","setMoText","moGetter","yrGetter","datesArrGetter","forceRerenderGetter","forcererender","setInitialMo","today","Date","m","getMonth","m2","toString","length","setInitialYr","getFullYear","mosToText","parseInt","toNext","limitingMo","newMo","yrIncr","moIncr","toPrev","diffMo","t","to","konvert","createQueryDatesArr","y","mMinusOne","getDay","getDate","daysInMo","d","i","is","push","cdTrue","setUpCalendarSquares","s","j","unshift","day","count","subjectMo2","map","x","parts","split","dt","filter","generateAppts","cbAppts","result","appt","date","substring","arr","k","meal","_id","details","kitchen","createAppt","myAppt","variables","user","refetchQueries","mutate","window","localStorage","setItem","closeModal","err","console","log","createAppts","dates","meals","updateAppt","myApptVariables","updateApptM","updateAppt_HOLD","update","cache","data","writeQuery","query","Appointment","__typename","readQuery","updatedCachedAppt","days"],"mappings":"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","sourcesContent":["import { ref, computed, onServerPrefetch } from 'vue'\nimport updateAppointment from '../graphql/updateAppointment.mutation.gql'\nimport getAppointments from '../graphql/getAppointments.query.gql'\nimport createAppointments from '../graphql/createAppointments.mutation.gql'\nimport createAppointment from '../graphql/createAppointment.mutation.gql'\nimport { logErrorMessages } from '@vue/apollo-util'\nimport { useMutation, useQuery, onDone, onResult, useResult } from '@vue/apollo-composable'\nimport useMealSelection from './meal.js'\nimport gql from 'graphql-tag'\n\nconst state = ref({\n  calDays: [],\n  appts: {},\n  mo: '',\n  yr: '',\n  moText: '',\n  cardDayKey: 0,\n  datesArr: [],\n  calendarKey: 0\n})\nlet datesArr = []\n\nconst mealSelection = useMealSelection()\n\nexport const useCalendar = function () {\n  // Remove this from global scope; get days, mos, yrs locally.\n  const rerender = 0\n\n  // const d2 = d.toString().length < 2 ? '0' + d : d.toString()\n  // const day = ref(d2)\n\n  let firstDayOfMo = ''\n  let firstDayOfMoDayNo = ''\n  let lastDayOfMo = ''\n  let lastDayOfPrevMo = ''\n\n  // let lastDayOfMo = ''\n\n  // const lastDayOfMoDayNo = lastDayOfMo.getDay()\n\n  // Need calDays setter and getter\n  const calDays = []\n  // debugger\n\n  // SETTERS AND GETTERS\n  const calDaysSetter = (calDays) => { state.value.calDays = calDays }\n  const apptsSetter = (appts) => {\n    // debugger\n    state.value.appts = appts\n  }\n  const calendarKeySetter = () => {\n    state.value.calendarKey = state.value.calendarKey + 1\n  }\n  const cardDayKeySetter = () => {\n    state.value.cardDayKey = state.value.cardDayKey + 1\n  }\n  const datesArrSetter = (datesArr) => {\n    state.value.datesArr = datesArr\n  }\n\n  const forceRerenderSetter = () => {\n    state.value.forceRerender += 1\n  }\n\n  const calDaysGetter = computed(() => {\n    return state.value.calDays\n  })\n\n  const apptsGetter = computed(() => {\n    return state.value.appts\n  })\n\n  const cardDayKeyGetter = computed(() => {\n    return state.value.cardDayKey\n  })\n\n  const calendarKeyGetter = computed(() => {\n    return state.value.calendarKey\n  })\n\n  const moTextGetter = computed(() => {\n    return setMoText(state.value.mo)\n  })\n  const moGetter = computed(() => {\n    return state.value.mo\n  })\n  const yrGetter = computed(() => {\n    return state.value.yr\n  })\n  const datesArrGetter = computed(() => {\n    return state.value.datesArr\n  })\n\n  const forceRerenderGetter = computed(() => {\n    return state.value.forcererender\n  })\n  //* ************\n  // watchEffect(() => alert(appts.value))\n\n  const setInitialMo = () => {\n    const today = new Date()\n    const m = (today.getMonth()) + 1\n    const m2 = m.toString().length < 2 ? '0' + m : m.toString()\n    // debugger\n    state.value.mo = m2\n    setMoText(m2)\n  }\n\n  const setInitialYr = () => {\n    const today = new Date()\n    state.value.yr = today.getFullYear()\n  }\n\n  const setMoText = (m) => {\n    const mosToText = {\n      1: 'January',\n      2: 'February',\n      3: 'March',\n      4: 'April',\n      5: 'May',\n      6: 'June',\n      7: 'July',\n      8: 'August',\n      9: 'September',\n      10: 'October',\n      11: 'November',\n      12: 'December'\n    }\n    state.value.moText = mosToText[parseInt(m)]\n    return state.value.moText\n  }\n\n  const toNext = {\n    limitingMo: '12',\n    newMo: '01',\n    yrIncr: 1,\n    moIncr: 1\n  }\n\n  const toPrev = {\n    limitingMo: '01',\n    newMo: '12',\n    yrIncr: -1,\n    moIncr: -1\n  }\n\n  function diffMo (t) {\n    // debugger\n    // useCalendar()\n    let to = {}\n    t === 'next' ? to = toNext : to = toPrev\n\n    if (state.value.mo === to.limitingMo) {\n      // debugger\n      let yr = parseInt(state.value.yr)\n      yr = yr + to.yrIncr\n      state.value.yr = yr.toString()\n      state.value.mo = to.newMo\n    } else {\n      // debugger\n      const mo = state.value.mo * 1 + to.moIncr\n      const konvert = mo.toString().length === 1 ? ('0' + mo) : (mo.toString())\n      // debugger\n      state.value.mo = konvert\n      // debugger\n\n      // debugger\n    }\n    // debugger\n    // gA(mm)\n  }\n\n  // const today = new Date()\n  // const m = today.getMonth() + 1\n  // const m2 = m.toString().length < 2 ? '0' + m : m.toString()\n  // state.value.yr = today.getFullYear()\n  // state.value.mo = m2\n  // datesArr = []\n\n  function createQueryDatesArr (m, y) {\n    // debugger\n    datesArr = []\n    // const y = state.value.yr\n    // // debugger\n    // let m = state.value.mo\n\n    // state.value.mo = m\n    // state.value.yr = y\n\n    const mMinusOne = m - 1\n    firstDayOfMo = new Date(y, mMinusOne, 1)\n    firstDayOfMoDayNo = firstDayOfMo.getDay()\n    lastDayOfMo = new Date(y, m, 0).getDate()\n    lastDayOfPrevMo = new Date(y, mMinusOne, 0).getDate()\n    const daysInMo = new Date(y, m, 0).getDate()\n\n    let d = firstDayOfMo.getDay() + 1\n\n    // debugger\n    if (m.toString().length < 2) { m = '0' + m }\n    if (d.toString().length < 2) { d = '0' + d }\n    // alert(y.toString() + m.toString() + d.toString())\n    // debugger\n\n    for (let i = 1; i <= daysInMo; i++) {\n      let is = i.toString()\n      if (is.length < 2) {\n        is = '0' + is\n      }\n      datesArr.push(`${y}-${m}-${is}`)\n    }\n    return datesArr\n  }\n\n  let cdTrue = []\n  function setUpCalendarSquares () {\n    // debugger\n    let s = ''\n    const calDays = []\n    // debugger\n    // if (calDays.value.length === 0) {\n    let d = 0\n    for (let j = 6; j >= (7 - firstDayOfMoDayNo); j--) {\n      s = (lastDayOfPrevMo - d).toString()\n      // debugger\n\n      s = s.length < 2 ? '0' + s : s\n      calDays.unshift({ day: s, count: false })\n      d += 1\n    }\n    // debugger\n    // const subjectMo = dates  Arr\n    // debugger\n    const subjectMo2 = datesArr.map((x) => {\n      const parts = x.split('-')\n      // debugger\n      const dt = new Date(parts[0], parseInt(parts[1]) - 1, parts[2])\n      const d = dt.getDate()\n      const s = d.toString().length < 2 ? '0' + d : d.toString()\n      return { day: s, count: true }\n    }\n\n    )\n    // debugger\n    calDays.push(...subjectMo2)\n\n    const length = calDays.length\n    for (let j = 1; j <= (35 - length); j++) {\n      s = j.toString().length < 2 ? '0' + j : j\n      calDays.push({ day: s, count: false })\n    }\n    // }\n    // debugger\n    calDaysSetter(calDays)\n    cdTrue = calDays.filter(day => day.count === true)\n    // debugguer\n    return cdTrue\n  }\n\n  const generateAppts = (cbAppts) => {\n    const appts = {}\n    // debugger\n    let s = ''\n    for (let i = 0; i < cdTrue.length; i++) {\n      // debugger\n\n      s = cdTrue[i].day.toString()\n      s = s.length < 2 ? '0' + s : s\n\n      const result = cbAppts.filter(appt => appt.date.substring(appt.date.length - 2) === s)\n\n      if (result.length > 0) {\n        const arr = []\n        for (let k = 0; k < result.length; k++) {\n          arr.push({ appt: { day: result[k].date, meal: result[k].meal, _id: result[k]._id, details: result[k].details, kitchen: result[k].kitchen } })\n        }\n        appts[`${state.value.yr}-${state.value.mo}-${s}`] = arr\n      }\n    }\n    // debugger\n    apptsSetter(appts)\n    return appts\n  }\n\n  // \"@vue/apollo-composable\": \"^4.0.0-alpha.15\",\n  // \"@vue/apollo-option\": \"^4.0.0-alpha.15\",\n  // \"@vue/apollo-util\": \"^4.0.0-alpha.15\",\n  function createAppt (myAppt) {\n    debugger\n    const { mutate: createAppt, onDone } =\n       useMutation(createAppointment,\n         () => ({\n           variables: {\n             kitchen: myAppt.kitchen,\n             user: myAppt.user,\n             date: myAppt.date,\n             meal: myAppt.meal,\n             details: myAppt.details\n           },\n           refetchQueries: [\n             getAppointments,\n             'getAppointments'\n           ]\n         }))\n    // debugger\n    // console.log(meal)\n    try {\n      createAppt()\n      // debugger\n      onDone(result => {\n        window.localStorage.setItem('appt', 'fake appt')\n        apptsSetter(result)\n        mealSelection.closeModal()\n        forceRerenderSetter()\n        // cardDayKeySetter()\n\n        // router.push('/')\n      })\n    } catch {\n      err => {\n        console.log(err)\n      }\n    }\n  }\n\n  function createAppts (myAppt) {\n    const { mutate: createAppt, onDone } =\n       useMutation(createAppointments,\n         () => ({\n           variables: {\n             kitchen: myAppt.kitchen,\n             user: myAppt.user,\n             dates: [myAppt.date],\n             meals: [myAppt.meal],\n             details: [myAppt.details]\n           },\n           refetchQueries: [\n             getAppointments,\n             'getAppointments'\n           ]\n         }))\n    // debugger\n    // console.log(meal)\n    try {\n      createAppt()\n      // debugger\n      onDone(result => {\n        window.localStorage.setItem('appt', 'fake appt')\n        apptsSetter(result)\n        mealSelection.closeModal()\n        // cardDayKeySetter()\n\n        // router.push('/')\n      })\n    } catch {\n      err => {\n        console.log(err)\n      }\n    }\n  }\n\n  function updateAppt (myAppt) {\n    debugger\n\n    // datesArr = createQueryDatesArr(myAppt.date.substring(5, 7), myAppt.date.substring(0, 4))\n    debugger\n\n    const myApptVariables = {\n      _id: myAppt._id,\n      date: myAppt.date,\n      meal: myAppt.meal,\n      details: myAppt.details,\n      kitchen: myAppt.kitchen,\n      user: myAppt.user\n    }\n\n    const { mutate: updateApptM } = useMutation(updateAppointment,\n      () => ({\n        variables: myApptVariables\n      }\n        //       {\n        //  refetchQueries: [\n        //         getAppointments,\n        //         'getAppointments'\n        //       ]\n        //  }\n      ))\n\n    try {\n      updateApptM()\n    } catch {\n      err => {\n        console.log(err)\n      }\n    }\n  }\n\n  function updateAppt_HOLD (myAppt) {\n    debugger\n\n    datesArr = createQueryDatesArr(myAppt.date.substring(5, 7), myAppt.date.substring(0, 4))\n    debugger\n    // console.log(datesArr)\n    // const { result } = useQuery(getAppointments,\n    //   { dates: datesArr }\n    // )\n    // const appts = useResult(result, [])\n    const myApptVariables = {\n      _id: myAppt._id,\n      date: myAppt.date,\n      meal: myAppt.meal,\n      details: myAppt.details,\n      kitchen: myAppt.kitchen,\n      user: myAppt.user\n    }\n\n    const { mutate: updateApptM } = useMutation(updateAppointment,\n      () => ({\n        variables: myApptVariables,\n        update: (cache, { data: { myApptVariables } }) => {\n          debugger\n          cache.writeQuery({\n            query: gql`\n            query WriteAppointment($id: ID!) {\n              Appointment(_id: $id) {\n                _id\n                date\n                meal\n                details\n                kitchen\n                user\n              }\n            }`,\n            data: {\n              Appointment: {\n                __typename: 'Appointment',\n                _id: myAppt._id,\n                date: myAppt.date,\n                meal: myAppt.meal,\n                details: myAppt.details,\n                kitchen: myAppt.kitchen,\n                user: myAppt.user\n              }\n            }\n          })\n          debugger\n\n          const data = cache.readQuery({\n            query: getAppointments,\n            variables: { date: datesArr }\n          })\n\n          const updatedCachedAppt = cache.readQuery({\n            query: getAppointments,\n            variables: { date: [myAppt.date] }\n          })\n          data.getAppointments.push(updatedCachedAppt)\n          cache.writeQuery({ query: getAppointments, data })\n        }\n      }))\n\n    try {\n      updateApptM()\n      onDone((cache) => {\n        console.log(cache)\n      })\n    } catch {\n      err => {\n        console.log(err)\n      }\n    }\n  }\n\n  const days = {\n    0: 'Sun',\n    1: 'Mon',\n    2: 'Tue',\n    3: 'Wed',\n    4: 'Thu',\n    5: 'Fri',\n    6: 'Sat'\n  }\n\n  return {\n    apptsSetter,\n    apptsGetter,\n    calDays,\n    calDaysGetter,\n    days,\n    forceRerenderGetter,\n    updateAppt,\n    yrGetter,\n    createAppts,\n    moTextGetter,\n    setInitialMo,\n    moGetter,\n    setInitialYr,\n    setMoText,\n    diffMo,\n    cardDayKeySetter,\n    cardDayKeyGetter,\n    createQueryDatesArr,\n    generateAppts,\n    setUpCalendarSquares,\n    calendarKeyGetter,\n    calendarKeySetter,\n    createAppt\n  }\n}\n\nexport default useCalendar\n\n//  update: (store, {}) => {\n//    debugger\n//    //  const idToRemove = myAppt._id\n//    // store.modify\n//    //  store.modify({\n//    //    id: store.identify(myAppt)\n//    //  })\n//    //  getAppointments(date: $date)\n//    //\n\n//    const data = store.readQuery({\n//      query: getAppointments,\n//      variables: { date: datesArr }\n//    })\n//    console.log('**********')\n//    //  appts.value = data.getAppointments\n//    console.log(data.getAppointments)\n\n//    console.dir(store)\n//    debugger\n\n//  },\n"]}]}