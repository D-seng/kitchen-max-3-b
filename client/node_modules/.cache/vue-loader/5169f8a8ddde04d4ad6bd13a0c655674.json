{"remainingRequest":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/AddKitchen.vue?vue&type=style&index=0&id=6063c7fd&scoped=true&lang=css","dependencies":[{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/AddKitchen.vue","mtime":1638506469287},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/css-loader/dist/cjs.js","mtime":1638459945911},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1638459950711},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/postcss-loader/src/index.js","mtime":1638459947184},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js","mtime":1638459949352}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8qICNraXRjaGVuIHsKICBib3JkZXI6IDAuNXJlbSBzb2xpZCAjZjNmM2YzOwp9ICovCgoubG9hZGVyIHsKICBib3JkZXI6IDAuNXJlbSBzb2xpZCAjZjNmM2YzOyAvKiBMaWdodCBncmV5ICovCiAgYm9yZGVyLXRvcDogMC41cmVtIHNvbGlkICNjYzAwMDA7IC8qIEJsdWUgKi8KICBib3JkZXItcmFkaXVzOiA1MCU7CiAgd2lkdGg6IDJyZW07CiAgaGVpZ2h0OiAycmVtOwogIGFuaW1hdGlvbjogc3BpbiAwLjc1cyBsaW5lYXIgaW5maW5pdGU7Cn0KCkBrZXlmcmFtZXMgc3BpbiB7CiAgMCUgewogICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7CiAgfQogIDEwMCUgewogICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsKICB9Cn0K"},{"version":3,"sources":["/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/AddKitchen.vue"],"names":[],"mappings":";AAuZA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,EAAE,CAAC;;AAEH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;EAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;EAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;EACd,CAAC,EAAE;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB;EACA,CAAC,CAAC,CAAC,EAAE;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3B;AACF","file":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/views/AddKitchen.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <form id=\"kitchen\" enctype=\"multipart/form-data\">\n      <div class=\"mt-5 flex-column bg-indigo-300 sm:m-auto sm:mt-15 sm:w-2/5 sm:shadow-lg\">\n        <div>\n          <label class=\"m-2\">\n            Establishment (Required):\n            <br />\n            <input\n              class=\"sm:w-2/3 m-2 bg-gray-200 border-solid border-1 border-gray-900 shadow-inner\"\n              type=\"text\"\n              v-model.trim=\"newKitchen.name\"\n            />\n          </label>\n        </div>\n        <div>\n          <label class=\"m-2\">\n            Address:\n            <br />\n            <input\n              class=\"bg-gray-200 border-solid border-1 border-gray-900 shadow-inner\"\n              type:=\"text\"\n              v-model.trim=\"newKitchen.address\"\n            />\n          </label>\n          <br />\n          <label class=\"m-2\">\n            City:\n            <br />\n            <input\n              clas=\"bg-gray-200 border-solid border-1 border-gray-900 shadow-inner\"\n              type=\"text\"\n              v-model.trim=\"newKitchen.city\"\n            />\n          </label>\n          <br />\n          <label class=\"m-2\">\n            Rate:\n            <br />\n            <input\n              class=\"bg-gray-200 border-solid border-1 border-gray-900 shadow-inner\"\n              type=\"number\"\n              v-model.trim=\"newKitchen.rate\"\n            />\n          </label>\n          <br />\n          <label class=\"m-2\">\n            Burners:\n            <br />\n            <input\n              class=\"bg-gray-200 border-solid border-1 border-gray-900 shadow-inner\"\n              type=\"number\"\n              v-model.trim=\"newKitchen.burners\"\n            />\n          </label>\n        </div>\n        <div>\n          <h4>Equipment</h4>\n          <div class=\"bg-gray-500\">\n            <label\n              :class=\"newKitchen.walkin ? 'bg-gray-200 font-bold p-1' : 'bg-gray-500 font-normal p-1'\"\n              for=\"walkin\"\n            >\n              <input\n                class=\"hidden\"\n                type=\"checkbox\"\n                id=\"walkin\"\n                value=\"walkin\"\n                v-model=\"newKitchen.walkin\"\n              />\n              Walkin\n            </label>\n            <label\n              :class=\"newKitchen.utensils ? 'bg-gray-200 font-bold' : 'bg-gray-500 font-normal'\"\n              for=\"utensils\"\n            >\n              <input class=\"hidden\"\n              type=\"checkbox\"\n              id=\"utensils\"\n              v-model=\"newKitchen.utensils\" />\n              Utensils\n            </label>\n\n            <label\n              :class=\"newKitchen.knives ? 'bg-gray-200 font-bold' : 'bg-gray-500 font-normal'\"\n              for=\"knives\"\n            >\n              <input type=\"checkbox\"\n              id=\"knives\"\n              value=\"Knives\"\n              v-model=\"newKitchen.knives\" />\n              Knives\n            </label>\n          </div>\n\n          <br />\n\n          <!-- <file-upload emit:\"upload-kitchen\" vxAction:\"setPublicId\"/> -->\n\n          <br />\n\n          <input\n            type='submit'\n            value='Submit'\n            @click.prevent=\"handleCreateKitchen\"\n            class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n          />\n\n          <!-- <input\n            type:\"cancel\"\n            value:\"Cancel\"\n            @click:\"handleCancel\"\n            class:\"bg-gray-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\"\n          />-->\n        </div>\n      </div>\n    </form>\n    <div>\n      <!-- <f-upload vbind:max-files:1 /> -->\n    </div>\n    <S3FileUpload :fieldname=\"thumbnail\">mm</S3FileUpload>\n    <button @click.prevent=\"handlePhotoRename\">Rename</button>\n    <button @click.prevent=\"handleLoadKitchen\">Load Kitchen</button>\n    <br>\n\n    <!-- <p>{{this.kitchen}}</p>\n    <p>{{this.user}}</p>\n    <p>{{this.publicIds}}</p> -->\n\n  </div>\n</template>\n\n<script>\n// import { mapGetters } from \"vuex\";\n\n// import eventBus from \"../eventBus\";\nimport externalSetup from '../composables/externalSetup.js'\nimport greeter from '../greeter.js'\nimport { userState } from '../composables/userCentral.js'\nimport FUpload from \"../../src/components/FUpload\";\nimport gql from 'graphql-tag'\nimport createKitchenMutation from '../graphql/createKitchen.mutation.gql'\nimport {reactive, ref } from 'vue'\nimport { beforeRouteEnter, onBeforeRouteLeave, onBeforeRouteUpdate, useRouter, useRoute } from 'vue-router'\n\nimport { useQuery, useResult, useMutation } from '@vue/apollo-composable'\nimport S3FileUpload from '../components/S3FileUpload.vue'\n\n// import { debug } from 'console';\n//...\n\nexport default {\nsetup() {\n\n    let next = false\n    let newKitchen = {\n      address: \"\",\n      city: \"\",\n      burners: null,\n      imageUrl: \"\",\n      knives: false,\n      name: \"\",\n      rate: null,\n      utensils: false\n    }\n\n    const { addKitchenGuard } = externalSetup();\n      debugger\n    // addKitchenGuard()\n\n  const returnedKitchen= ref(null)\n  // debugger\n  const { mutate: createKitchen } =\n    useMutation(createKitchenMutation, () => ({\n        variables: {\n          owner: userState.userId,\n          address: newKitchen.value.address,\n          city: newKitchen.value.city,\n          burners: parseInt(newKitchen.value.burners),\n          imageUrl: [newKitchen.value.imageUrl],\n          knives: newKitchen.value.knives,\n          name: newKitchen.value.name,\n          rate: parseInt(newKitchen.value.rate),\n          utensils: newKitchen.value.utensils,\n          walkin: newKitchen.value.walkin\n        }\n      })\n    )\n\n// TODO: SEND JSON WEB TOKENS.\n// Do I need to update cache simply to add a kitchen?\n  function handleCreateKitchen () {\n\n    debugger\n    const ipts = {\n          owner: userState.userId,\n          address: newKitchen.value.address,\n          city: newKitchen.value.city,\n          burners: parseInt(newKitchen.value.burners),\n          imageUrl: [newKitchen.value.imageUrl],\n          knives: newKitchen.value.knives,\n          name: newKitchen.value.name,\n          rate: parseInt(newKitchen.value.rate),\n          utensils: newKitchen.value.utensils,\n          walkin: newKitchen.value.walkin\n        }\n        debugger\n        console.log(ipts)\n    createKitchen()\n\n  }\n  return {\n    newKitchen,\n    next,\n    returnedKitchen,\n    handleCreateKitchen,\n    createKitchen\n  }},\n\n  name: \"AddKitchen\",\n  components: {\n    // FUpload,\n    S3FileUpload\n  },\n// beforeRouteEnter: (to from next) :> {\n//       const { validateByToken } : externalSetup()\n// debugger\n// const prom : validateByToken()\n// debugger\n//       prom.then(response :> {\n//           next(comp :> comp.setData(response))\n//       })\n//       .catch(() :> {\n//         next({ name: 'Login'})\n//       })\n//         }\n\n  methods: {\n    setData(user) {\n      debugger\n      alert(user)\n      console.log(user)\n    },\n    handleNext() {\n      this.next= true;\n    },\n    handleCreateKitchenxx() {\n      // alert('a')\n      debugger;\n  //     if(true){\n  // // if (this.publicIds.length ::: 0) {\n  // //   alert(\"Please include photos.\")\n  // } else {\n\n// console.log(this.publicIds);\n\n// console.log(this.user._id)\n\n// console.log(window.localStorage.token)\n      // const payl : {\n      //   owner: this.user._id\n      //   address: this.newKitchen.address\n      //   city: this.newKitchen.city\n      //   burners: parseInt(this.newKitchen.burners 10)\n      //   imageUrl: this.publicIds\n      //   knives: this.newKitchen.knives\n      //   name: this.newKitchen.name\n      //   rate: parseInt(this.newKitchen.rate 10)\n      //   utensils: this.newKitchen.utensils\n      //   walkin: this.newKitchen.walkin\n      // };\n\n      // this.$store.dispatch(\"createKitchen\" payl);\n\n      //LIFECYLE HOOKS\n      // this.handlePhotoRename();\n\n      this.resetForm();\n    },\n    handleLoadKitchen() {\n      debugger\n      console.log(this.kitchen)\n      console.log(this.$store.state.kitchen)\n    },\n    handlePhotoRename() {\n      debugger;\n      greeter.howl = function(data) {\n        this.emit('howl', data)\n      }\n      greeter.on('greet', function (data) {\n  console.log(`Someone greeted again! ${data.a} ${data.b}`)\n})\ngreeter.on('howl', function(data) {\n  console.log('howl', data)\n  greeter.howl('aouuuuuuu')\n})\n     greeter.greet({a: 'xyz 789', b:'mno 456'} )\n      // const pid : this.publicId;\n      // console.log(`${this.kitchen._id}_${this.publicId}`)\n      // axios({\n      //   method: \"post\"\n      //   url: \"http://localhost:4001/\"\n      //   data: {\n      //     publicId_curr: this.publicId\n      //     publicId_new: `${this.publicId}_${this.kithen._id}`\n      //   }\n      // })\n      //   .then((resp) :> {\n      //     console.log(\"resp\");\n      //     console.log(resp);\n      //   })\n      //   .catch((err) :> {\n      //     console.log(\"err\");\n      //     console.log(err);\n      //   });\n//[ \"webinar/saqbv4m6quybeewdisrd\" \"webinar/oym6z17vjmxfaaz5wdii\" \"webinar/pwcwe4glxxhelvclzjdj\" \"webinar/bfy2lewqhf088erfbp7j\" \"webinar/lfqcxxasmo7nxheqnrql\" \"webinar/jmvdd1zckmugvdb1w67r\" \"webinar/c9b4mrsdwulo8npft0bo\" \"webinar/glmtpspgqeguepmqzxwf\" ]\n//NEED TO ACCOMMODATE UPLOADING AND TAGGING MULTIPLE IMAGES\n    //      axios({\n    //     method: \"post\"\n    //     url: \"http://localhost:4001/tag\"\n    //     data: {\n    //       tag: this.kitchen._id\n    //       publicIds: this.publicIds\n    //     }\n    //   })\n    //     .then((resp) :> {\n    //       console.log(\"resp\");\n    //       console.log(resp);\n    //     })\n    //     .catch((err) :> {\n    //       console.log(\"err\");\n    //       console.log(err);\n    //     });\n    }\n\n   },\n   computed: {\n  //  ...mapGetters(['kitchen' 'publicIds' 'user'])\n   },\n   mounted() {\n     console.log(`Mounted now.`)\n  //    function Greetr() {\n  //      this.greeting : 'Hello world!'\n  //    }\n  //    util.inherits(Greetr EventEmitter)\n  //    Greetr.prototype.greet : function(data) {\n  //      console.log(`${this.greeting} : ${data}`)\n  //      this.emit('greet' data)\n  //    }\n\n  //    this.greeter : new Greetr()\n  //    this.greeter.on('greet' function (data) {\n  //      console.log(`Someone greeted! ${data}`)\n  //    })\n  //    this.greeter.greet('abc 123')\n  //  }\n  // computed: {\n    // ...mapGetters([\"loading\" \"posts\" \"kitchens\"  \"kitchen\" \"kitchenId\"])\n    // cloudinarySrc() {\n    //   return cloudinaryCore.url(\"sample\");\n    // }\n    // kitchen() {\n    //   this.$store.getters.kitchen\n    // }\n  // }\n  // mounted() {\n    // eventBus.$on(\"upload-kitchen\" () :> {\n    //   this.handleCreateKitchen();\n    // });\n\n    // eventBus.$on('handle-file-change' (payload) :> {\n    //   this.handleFileChange(payload)\n    // })\n  // }\n  // watch: {\n  //   createdKitchen() {\n  //     debugger;\n  //     this.updatedKitchen : this.createdKitchen;\n  //   }\n  // }\n  // created() {\n    // this.cloudinary : new cloudinary.Cloudinary({\n    //   cloud_name:'dcrqh7va2ct'\n    //   });\n    // this.handleGetPosts();\n    // this.handleGetKitchens();\n  // }\n\n  // beforeMount() {\n  //   // debugger\n  //   console.log(this.returnedKitchen)\n  // }\n  //  watch: {\n\n  //   kitchen(value) {\n  //           debugger\n  //     if (value) {\n  //       this.returnedKitchen : value\n  //       debugger\n  //       console.log(this.returnedKitchen)\n  //       // this.$router.push('/')\n  //     }\n  //   }\n  }\n};\n</script>\n<style scoped>\n/* #kitchen {\n  border: 0.5rem solid #f3f3f3;\n} */\n\n.loader {\n  border: 0.5rem solid #f3f3f3; /* Light grey */\n  border-top: 0.5rem solid #cc0000; /* Blue */\n  border-radius: 50%;\n  width: 2rem;\n  height: 2rem;\n  animation: spin 0.75s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n"]}]}