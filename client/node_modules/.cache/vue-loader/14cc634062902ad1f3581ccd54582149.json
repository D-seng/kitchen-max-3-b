{"remainingRequest":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/components/Calendar2.vue?vue&type=template&id=46b5eab4","dependencies":[{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/components/Calendar2.vue","mtime":1641310718704},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/babel-loader/lib/index.js","mtime":1638459947335},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1638459950764},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/cache-loader/dist/cjs.js","mtime":1638459943317},{"path":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/node_modules/vue-loader-v16/dist/index.js","mtime":1638459949352}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CjxoMT57e21UZXh0fX0ge3t5cn19PC9oMT4KPHA+e3thcHBvaW50bWVudHN9fTwvcD4KICAgIDxwPnt7bW9kYWxWaXNpYmxlfX08L3A+CiAgICA8YnV0dG9uIEBjbGljaz0ic3dpdGNoTW8oJ3ByZXYnKSI+UHJldjwvYnV0dG9uPgogICAgPGJ1dHRvbiBAY2xpY2s9InN3aXRjaE1vKCduZXh0JykiPk5leHQ8L2J1dHRvbj4KCiAgICAgPGRpdiBjbGFzcz0iZ3JpZCBncmlkLWZsb3ctcm93IGdyaWQtY29scy03IGdyaWQtcm93cy03IGdhcC00IgogICAgIDprZXk9ImNhbGVuZGFyS2V5Ij4KICAgICAgPGRpdiBjbGFzcz0iYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGciCiAgICAgIHYtZm9yPSJjYWxEYXkgaW4gY2FsRGF5cyIgOmtleT0iY2FsRGF5LmRheSI+CiAgICAgICAgPGJ1dHRvbiBAY2xpY2sgPSJhZGRBcHB0KGNhbERheS5kYXkpIj57e2NhbERheS5kYXl9fTwvYnV0dG9uPgogICAgICAgICAgPGRpdiB2LWlmPSJhcHBvaW50bWVudHMiPgogICAgICAgICAgICA8IS0tIDxkaXYgdi1mb3I9ImFwcHQgaW4gcmVzdWx0LmdldEFwcG9pbnRtZW50cy5maWx0ZXIoaXRlbSA9PiBpdGVtLmRhdGUgPT09IGAke3lyfS0ke21vfS0ke2NhbERheS5kYXl9YCkiIDprZXk9ImFwcHQuX2lkIj4gLS0+CiAgICAgICAgICAgIDxkaXYgdi1mb3I9ImFwcHQgaW4gYXBwb2ludG1lbnRzLmZpbHRlcihpdGVtID0+IGl0ZW0uZGF0ZSA9PT0gYCR7eXJ9LSR7bW99LSR7Y2FsRGF5LmRheX1gKSIgOmtleT0iYXBwdC5faWQiPgogICAgICAgICAgICAgIDxDYXJkRGF5IDpkYXlEZXRhaWxzPSJhcHB0Ii8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgPC9kaXY+CiAgPC9kaXY+CgogICAgPGRpdiB2LWlmPSJtb2RhbFZpc2libGUgPT09ICB0cnVlIj4KICAgIDxNb2RhbFZpZXc+CiAgICAgIDxNZWFsIGNsYXNzPSJ6LTUwIi8+CiAgICA8L01vZGFsVmlldz4KICAgICAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/components/Calendar2.vue"],"names":[],"mappings":";AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;KAE7C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC1D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAC9H,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACzG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,CAAC;;MAEP,CAAC,CAAC,CAAC,CAAC,CAAC;EACT,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEH,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACT,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/darrensenger/workspace/current/kitchen-max-3-b/client/src/components/Calendar2.vue","sourceRoot":"","sourcesContent":["<template>\n<h1>{{mText}} {{yr}}</h1>\n<p>{{appointments}}</p>\n    <p>{{modalVisible}}</p>\n    <button @click=\"switchMo('prev')\">Prev</button>\n    <button @click=\"switchMo('next')\">Next</button>\n\n     <div class=\"grid grid-flow-row grid-cols-7 grid-rows-7 gap-4\"\n     :key=\"calendarKey\">\n      <div class=\"bg-white rounded-lg shadow-lg\"\n      v-for=\"calDay in calDays\" :key=\"calDay.day\">\n        <button @click =\"addAppt(calDay.day)\">{{calDay.day}}</button>\n          <div v-if=\"appointments\">\n            <!-- <div v-for=\"appt in result.getAppointments.filter(item => item.date === `${yr}-${mo}-${calDay.day}`)\" :key=\"appt._id\"> -->\n            <div v-for=\"appt in appointments.filter(item => item.date === `${yr}-${mo}-${calDay.day}`)\" :key=\"appt._id\">\n              <CardDay :dayDetails=\"appt\"/>\n            </div>\n        </div>\n\n      </div>\n  </div>\n\n    <div v-if=\"modalVisible ===  true\">\n    <ModalView>\n      <Meal class=\"z-50\"/>\n    </ModalView>\n      </div>\n</template>\n\n<script>\nimport Meal from '../../src/components/Meal'\nimport ModalView from '../../src/components/ModalView.vue'\nimport CardDay from '../../src/components/CardDay'\nimport { ref, onServerFetch, computed, watchEffect, watch } from 'vue'\nimport { useMealSelection } from '../../src/composables/meal.js'\nimport { useCalendar } from '../../src/composables/calendar.js'\nimport { useMutation, useQuery, result, variables, onDone, onResult, onError, useResult } from '@vue/apollo-composable'\nimport getAppointments from '../graphql/getAppointments.query.gql'\n\nexport default {\nsetup(props, context) {\n  let calendar = useCalendar()\n  // let appts = ref([])\n  const mealSelection = useMealSelection()\n  calendar.setInitialMo()\n  calendar.setInitialYr()\n  // let yr = ref('')\n  let reload = false\n  let cardDayKey = ref(0)\n  let calendarKey = ref(0)\n  let yr = ref(calendar.yrGetter)\n  let mo = ref(calendar.moGetter)\n  let apptsFrUseResult = ref(null)\n  let calDays = ref({})\n\nlet appointments = ref([])\nconst fetchPolicy = ref('cache-first')\nlet datesArr = calendar.createQueryDatesArr(mo.value, yr.value)\n\n    const addAppt = (day) => {\n      // debugger\n      mealSelection.setYear(calendar.yrGetter)\n      mealSelection.setMonth(calendar.moGetter)\n      mealSelection.setDay(day)\n      mealSelection.setDate()\n      mealSelection.setModMode('add')\n      // const dummyAppt = {appt: {date: \"d date\", meal: \"d meal\", details: \"d details\", kitchen: \"d kitchen\", user: \"d user\" }}\n      // const m = mealSelection.setMeal(dummyAppt)\n    mealSelection.makeModalVisible()\n      // console.log(m)\n      let mm = mealSelection.getModMode\n      console.log(mm)\n    }\n\n  const hideModal = function () {\n    mealSelection.hideModal()\n  }\n  calendar.setUpCalendarSquares()\n\n  const switchMo = (direction) => {\n    debugger\n    calendar.diffMo(direction)\n    datesArr = calendar.createQueryDatesArr(mo.value, yr.value)\n    // variables.value.date = datesArr\n    runQuery()\n  }\n\n\ncalendar.setUpCalendarSquares()\n\nconst { result, variables, onResult } = useQuery(getAppointments,\n      { date: datesArr },\n      { fetchPolicy: 'cache-first' }\n    )\n    // appointments.value = useResult(result)\n\nwatch(result, () => {\n  if (!result){\n  return;\n}\n  appointments.value = result\n  console.log(appointments.value)\n}, {\n  immediate: true\n}\n)\n\n\n    return {\n      calDays: calendar.calDaysGetter,\n      yr,\n      mo,\n      mText: calendar.moTextGetter,\n      modalVisible: mealSelection.getModalVisibility,\n      hideModal,\n      cardDayKey,\n      calendarKey,\n      addAppt,\n      switchMo,\n      apptsFrUseResult,\n      result,\n      appointments,\n      forceRerender: calendar.forceRerenderGetter\n    }\n},\n  name: \"GetKitchen\",\n  components: {\n    CardDay,\n    ModalView,\n    Meal\n  },\n  methods: {\n    update() {\n      debugger\n      this.$forceUpdate()\n    }\n  }\n\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"]}]}